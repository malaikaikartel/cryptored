(window.webpackJsonp=window.webpackJsonp||[]).push([["main~bd3a21fe"],{1235:function(e,t,i){var s=i(739),r=i(1236);function h(t,e,i){var r=t[e]+t[i],i=t[e+1]+t[i+1];4294967296<=r&&i++,t[e]=r,t[e+1]=i}function a(t,e,i,r){var n=t[e]+i;i<0&&(n+=4294967296);r=t[e+1]+r;4294967296<=n&&r++,t[e]=n,t[e+1]=r}function o(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function n(t,e,i,r,n,s){var o=c[n],u=c[n+1],n=c[s],s=c[s+1];h(f,t,e),a(f,t,o,u);o=f[r]^f[t],u=f[r+1]^f[t+1];f[r]=u,f[r+1]=o,h(f,i,r),o=f[e]^f[i],u=f[e+1]^f[i+1],f[e]=o>>>24^u<<8,f[e+1]=u>>>24^o<<8,h(f,t,e),a(f,t,n,s),o=f[r]^f[t],u=f[r+1]^f[t+1],f[r]=o>>>16^u<<16,f[r+1]=u>>>16^o<<16,h(f,i,r),o=f[e]^f[i],u=f[e+1]^f[i+1],f[e]=u>>>31^o<<1,f[e+1]=o>>>31^u<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),p=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(t){return 2*t})),f=new Uint32Array(32),c=new Uint32Array(32);function l(t,e){for(var i=0,i=0;i<16;i++)f[i]=t.h[i],f[i+16]=u[i];for(f[24]=f[24]^t.t,f[25]=f[25]^t.t/4294967296,e&&(f[28]=~f[28],f[29]=~f[29]),i=0;i<32;i++)c[i]=o(t.b,4*i);for(i=0;i<12;i++)n(0,8,16,24,p[16*i+0],p[16*i+1]),n(2,10,18,26,p[16*i+2],p[16*i+3]),n(4,12,20,28,p[16*i+4],p[16*i+5]),n(6,14,22,30,p[16*i+6],p[16*i+7]),n(0,10,20,30,p[16*i+8],p[16*i+9]),n(2,12,22,24,p[16*i+10],p[16*i+11]),n(4,14,16,26,p[16*i+12],p[16*i+13]),n(6,8,18,28,p[16*i+14],p[16*i+15]);for(i=0;i<16;i++)t.h[i]=t.h[i]^f[i]^f[i+16]}var A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(t,e,i,r){A.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,A[0]=t,e&&(A[1]=e.length),A[2]=1,A[3]=1,i&&A.set(i,32),r&&A.set(r,48);for(var n=0;n<16;n++)this.h[n]=u[n]^o(A,4*n);e&&(I(this,e),this.c=128)}function I(t,e){for(var i=0;i<e.length;i++)128===t.c&&(t.t+=t.c,l(t,!1),t.c=0),t.b[t.c++]=e[i]}g.prototype.update=function(t){return s(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),I(this,t),this},g.prototype.final=g.prototype.digest=function(t){var e=t&&"binary"!==t&&"hex"!==t?t:new Uint8Array(this.outlen);return s(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),s(e.length>=this.outlen,"out must have at least outlen bytes of space"),function(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;l(t,!0);for(var i=0;i<t.outlen;i++)e[i]=t.h[i>>2]>>8*(3&i)}(this,e),"hex"===t?function(t){for(var e,i="",r=0;r<t.length;r++)i+=(e=t[r])<16?"0"+e.toString(16):e.toString(16);return i}(e):e},g.ready=function(t){r.ready(function(){t()})};var d=g;e.exports=function(t,e,i,r,n){return!0!==n&&(s(m<=t,"outlen must be at least "+m+", was given "+t),s(t<=w,"outlen must be at most "+w+", was given "+t),null!=e&&(s(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),s(e.length>=y,"key must be at least "+y+", was given "+e.length),s(e.length<=E,"key must be at most "+E+", was given "+e.length)),null!=i&&(s(i instanceof Uint8Array,"salt must be Uint8Array or Buffer"),s(i.length===C,"salt must be exactly "+C+", was given "+i.length)),null!=r&&(s(r instanceof Uint8Array,"personal must be Uint8Array or Buffer"),s(r.length===v,"personal must be exactly "+v+", was given "+r.length))),new d(t,e,i,r)},e.exports.ready=function(t){r.ready(function(){t()})},e.exports.WASM_SUPPORTED=r.SUPPORTED,e.exports.WASM_LOADED=!1;var m=e.exports.BYTES_MIN=16,w=e.exports.BYTES_MAX=64,y=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),E=e.exports.KEYBYTES_MAX=64,C=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),v=e.exports.PERSONALBYTES=16;r.ready(function(t){t||(e.exports.WASM_LOADED=!0,e.exports=r)})},1236:function(t,e,i){var s=i(739),r=i(1237),o=null,n="undefined"!=typeof WebAssembly&&i(1243)().then(t=>{o=t}),u=64,h=[];t.exports=g;var a=t.exports.BYTES_MIN=16,p=t.exports.BYTES_MAX=64,f=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),c=t.exports.KEYBYTES_MAX=64,l=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),A=t.exports.PERSONALBYTES=16;function g(t,e,i,r,n){if(!(this instanceof g))return new g(t,e,i,r,n);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t=t||32,!0!==n&&(s(a<=t,"digestLength must be at least "+a+", was given "+t),s(t<=p,"digestLength must be at most "+p+", was given "+t),null!=e&&(s(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),s(e.length>=f,"key must be at least "+f+", was given "+e.length),s(e.length<=c,"key must be at least "+c+", was given "+e.length)),null!=i&&(s(i instanceof Uint8Array,"salt must be Uint8Array or Buffer"),s(i.length===l,"salt must be exactly "+l+", was given "+i.length)),null!=r&&(s(r instanceof Uint8Array,"personal must be Uint8Array or Buffer"),s(r.length===A,"personal must be exactly "+A+", was given "+r.length))),h.length||(h.push(u),u+=216),this.digestLength=t,this.finalized=!1,this.pointer=h.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,i&&this._memory.set(i,32),r&&this._memory.set(r,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,u,u+e.length),this._memory[this.pointer+200]=128)}function I(){}g.prototype._realloc=function(t){o.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},g.prototype.update=function(t){return s(!1===this.finalized,"Hash instance finalized"),s(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),u+t.length>this._memory.length&&this._realloc(u+t.length),this._memory.set(t,u),o.blake2b_update(this.pointer,u,u+t.length),this},g.prototype.final=g.prototype.digest=function(t){if(s(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,h.push(this.pointer),o.blake2b_final(this.pointer),!t||"binary"===t)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof t)return r.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);s(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t},g.WASM=o,g.SUPPORTED="undefined"!=typeof WebAssembly,g.prototype.ready=g.ready=function(t){return t=t||I,n?n.then(()=>t(),t):t(new Error("WebAssembly not supported"))},g.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},g.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)}},1243:function(t,e){var i,r=(()=>{for(var a=new Uint8Array(128),t=0;t<64;t++)a[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var e=t.length,i=new Uint8Array(3*(e-("="==t[e-1])-("="==t[e-2]))/4|0),r=0,n=0;r<e;){var s=a[t.charCodeAt(r++)],o=a[t.charCodeAt(r++)],u=a[t.charCodeAt(r++)],h=a[t.charCodeAt(r++)];i[n++]=s<<2|o>>4,i[n++]=o<<4|u>>2,i[n++]=u<<6|h}return i}})(),n=(i={"wasm-binary:./blake2b.wat"(t,e){e.exports=r("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")}},n||(0,i[Object.keys(i)[0]])((n={exports:{}}).exports,n),n.exports),s=WebAssembly.compile(n);t.exports=async t=>(await WebAssembly.instantiate(await s,t)).exports},127:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},e.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},e.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},1286:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(744);e.bip32=r;r=i(540);e.address=r;r=i(175);e.crypto=r;r=i(543);e.ECPair=r;r=i(127);e.networks=r;r=i(381);e.payments=r;r=i(39);e.script=r;r=i(1298);e.Block=r.Block;r=i(1300);e.Psbt=r.Psbt;r=i(39);e.opcodes=r.OPS;r=i(383);e.Transaction=r.Transaction;i=i(1318);e.TransactionBuilder=i.TransactionBuilder},1287:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(127),o=i(39),u=i(216),h=i(79),a=o.OPS;e.p2data=function(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),h({network:h.maybe(h.Object),output:h.maybe(h.Buffer),data:h.maybe(h.arrayOf(h.Buffer))},t);var i,r={name:"embed",network:t.network||s.bitcoin};if(u.prop(r,"output",()=>{if(t.data)return o.compile([a.OP_RETURN].concat(t.data))}),u.prop(r,"data",()=>{if(t.output)return o.decompile(t.output).slice(1)}),e.validate&&t.output){const n=o.decompile(t.output);if(n[0]!==a.OP_RETURN)throw new TypeError("Output is invalid");if(!n.slice(1).every(h.Buffer))throw new TypeError("Output is invalid");if(t.data&&((e=t.data).length!==(i=r.data).length||!e.every((t,e)=>t.equals(i[e]))))throw new TypeError("Data mismatch")}return Object.assign(r,t)}},1288:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0}),e.decode=function(e,t,i){i=void 0===i||i;var r=e.length;if(0===r)return 0;if((t=t||4)<r)throw new TypeError("Script number overflow");if(i&&0==(127&e[r-1])&&(r<=1||0==(128&e[r-2])))throw new Error("Non-minimally encoded script number");if(5===r){t=e.readUInt32LE(0),i=e.readUInt8(4);return 128&i?-(4294967296*(-129&i)+t):4294967296*i+t}let n=0;for(let t=0;t<r;++t)n|=e[t]<<8*t;return 128&e[r-1]?-(n&~(128<<8*(r-1))):n},e.encode=function(t){let e=Math.abs(t);var i,r=2147483647<(i=e)?5:8388607<i?4:32767<i?3:127<i?2:0<i?1:0;const n=Buffer.allocUnsafe(r);t=t<0;for(let t=0;t<r;++t)n.writeUInt8(255&e,t),e>>=8;return 128&n[r-1]?n.writeUInt8(t?128:0,r-1):t&&(n[r-1]|=128),n}}.call(this,i(23).Buffer)},1289:function(t,e,h){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const n=h(151),s=h(749),o=h(79),i=Buffer.alloc(1,0);function u(t){let e=0;for(;0===t[e];)++e;return e===t.length?i:128&(t=t.slice(e))[0]?Buffer.concat([i,t],1+t.length):t}function r(t){0===t[0]&&(t=t.slice(1));var e=Buffer.alloc(32,0),i=Math.max(0,32-t.length);return t.copy(e,i),e}e.decode=function(t){var e=t.readUInt8(t.length-1),i=-129&e;if(i<=0||4<=i)throw new Error("Invalid hashType "+e);i=s.decode(t.slice(0,-1)),t=r(i.r),i=r(i.s);return{signature:Buffer.concat([t,i],64),hashType:e}},e.encode=function(t,e){o({signature:n.BufferN(64),hashType:n.UInt8},{signature:t,hashType:e});var i=-129&e;if(i<=0||4<=i)throw new Error("Invalid hashType "+e);const r=Buffer.allocUnsafe(1);r.writeUInt8(e,0);e=u(t.slice(0,32)),t=u(t.slice(32,64));return Buffer.concat([s.encode(e,t),r])}}.call(this,h(23).Buffer)},1291:function(t,e,i){var r,n=i(541),s={};for(r in n)s[n[r]]=r;t.exports=s},1292:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const u=i(127),h=i(39),a=i(216),p=h.OPS,f=i(79),c=i(193),l=p.OP_RESERVED;function A(t,i){return t.length===i.length&&t.every((t,e)=>t.equals(i[e]))}e.p2ms=function(t,e){if(!(t.input||t.output||t.pubkeys&&void 0!==t.m||t.signatures))throw new TypeError("Not enough data");function i(t){return h.isCanonicalScriptSignature(t)||void 0!==(e.allowIncomplete&&t===p.OP_0)}e=Object.assign({validate:!0},e||{}),f({network:f.maybe(f.Object),m:f.maybe(f.Number),n:f.maybe(f.Number),output:f.maybe(f.Buffer),pubkeys:f.maybe(f.arrayOf(c.isPoint)),signatures:f.maybe(f.arrayOf(i)),input:f.maybe(f.Buffer)},t);const r={network:t.network||u.bitcoin};let n=[],s=!1;function o(t){s||(s=!0,n=h.decompile(t),r.m=n[0]-l,r.n=n[n.length-2]-l,r.pubkeys=n.slice(1,-2))}if(a.prop(r,"output",()=>{if(t.m&&r.n&&t.pubkeys)return h.compile([].concat(l+t.m,t.pubkeys,l+r.n,p.OP_CHECKMULTISIG))}),a.prop(r,"m",()=>{if(r.output)return o(r.output),r.m}),a.prop(r,"n",()=>{if(r.pubkeys)return r.pubkeys.length}),a.prop(r,"pubkeys",()=>{if(t.output)return o(t.output),r.pubkeys}),a.prop(r,"signatures",()=>{if(t.input)return h.decompile(t.input).slice(1)}),a.prop(r,"input",()=>{if(t.signatures)return h.compile([p.OP_0].concat(t.signatures))}),a.prop(r,"witness",()=>{if(r.input)return[]}),a.prop(r,"name",()=>{if(r.m&&r.n)return`p2ms(${r.m} of ${r.n})`}),e.validate){if(t.output){if(o(t.output),!f.Number(n[0]))throw new TypeError("Output is invalid");if(!f.Number(n[n.length-2]))throw new TypeError("Output is invalid");if(n[n.length-1]!==p.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(r.m<=0||16<r.n||r.m>r.n||r.n!==n.length-3)throw new TypeError("Output is invalid");if(!r.pubkeys.every(t=>c.isPoint(t)))throw new TypeError("Output is invalid");if(void 0!==t.m&&t.m!==r.m)throw new TypeError("m mismatch");if(void 0!==t.n&&t.n!==r.n)throw new TypeError("n mismatch");if(t.pubkeys&&!A(t.pubkeys,r.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(void 0!==t.n&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(r.n=t.pubkeys.length,r.n<r.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<r.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>r.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==p.OP_0)throw new TypeError("Input is invalid");if(0===r.signatures.length||!r.signatures.every(i))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!A(t.signatures,r.signatures))throw new TypeError("Signature mismatch");if(void 0!==t.m&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(r,t)}},1293:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(127),s=i(39),o=i(216),u=i(79),h=s.OPS,a=i(193);e.p2pk=function(t,e){if(!(t.input||t.output||t.pubkey||t.input||t.signature))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),u({network:u.maybe(u.Object),output:u.maybe(u.Buffer),pubkey:u.maybe(a.isPoint),signature:u.maybe(s.isCanonicalScriptSignature),input:u.maybe(u.Buffer)},t);const i=o.value(()=>s.decompile(t.input)),r={name:"p2pk",network:t.network||n.bitcoin};if(o.prop(r,"output",()=>{if(t.pubkey)return s.compile([t.pubkey,h.OP_CHECKSIG])}),o.prop(r,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),o.prop(r,"signature",()=>{if(t.input)return i()[0]}),o.prop(r,"input",()=>{if(t.signature)return s.compile([t.signature])}),o.prop(r,"witness",()=>{if(r.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==h.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!a.isPoint(r.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(r.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(r.input))throw new TypeError("Signature mismatch");if(t.input){if(1!==i().length)throw new TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(r.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(r,t)}},1294:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const h=i(175),t=i(127),a=i(39),p=i(216),f=i(79),c=a.OPS,l=i(193),A=i(299);e.p2pkh=function(e,i){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),f({network:f.maybe(f.Object),address:f.maybe(f.String),hash:f.maybe(f.BufferN(20)),output:f.maybe(f.BufferN(25)),pubkey:f.maybe(l.isPoint),signature:f.maybe(a.isCanonicalScriptSignature),input:f.maybe(f.Buffer)},e);const r=p.value(()=>{const t=A.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}}),n=p.value(()=>a.decompile(e.input)),s=e.network||t.bitcoin,o={name:"p2pkh",network:s};if(p.prop(o,"address",()=>{if(o.hash){const t=Buffer.allocUnsafe(21);return t.writeUInt8(s.pubKeyHash,0),o.hash.copy(t,1),A.encode(t)}}),p.prop(o,"hash",()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||o.pubkey?h.hash160(e.pubkey||o.pubkey):void 0),p.prop(o,"output",()=>{if(o.hash)return a.compile([c.OP_DUP,c.OP_HASH160,o.hash,c.OP_EQUALVERIFY,c.OP_CHECKSIG])}),p.prop(o,"pubkey",()=>{if(e.input)return n()[1]}),p.prop(o,"signature",()=>{if(e.input)return n()[0]}),p.prop(o,"input",()=>{if(e.pubkey&&e.signature)return a.compile([e.signature,e.pubkey])}),p.prop(o,"witness",()=>{if(o.input)return[]}),i.validate){let t=Buffer.from([]);if(e.address){if(r().version!==s.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(0<t.length&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==c.OP_DUP||e.output[1]!==c.OP_HASH160||20!==e.output[2]||e.output[23]!==c.OP_EQUALVERIFY||e.output[24]!==c.OP_CHECKSIG)throw new TypeError("Output is invalid");i=e.output.slice(3,23);if(0<t.length&&!t.equals(i))throw new TypeError("Hash mismatch");t=i}if(e.pubkey){var u=h.hash160(e.pubkey);if(0<t.length&&!t.equals(u))throw new TypeError("Hash mismatch");t=u}if(e.input){u=n();if(2!==u.length)throw new TypeError("Input is invalid");if(!a.isCanonicalScriptSignature(u[0]))throw new TypeError("Input has invalid signature");if(!l.isPoint(u[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(u[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(u[1]))throw new TypeError("Pubkey mismatch");u=h.hash160(u[1]);if(0<t.length&&!t.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(o,e)}}.call(this,i(23).Buffer)},1295:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const p=i(175),f=i(127),c=i(39),l=i(216),A=i(79),g=c.OPS,I=i(299);e.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),A({network:A.maybe(A.Object),address:A.maybe(A.String),hash:A.maybe(A.BufferN(20)),output:A.maybe(A.BufferN(23)),redeem:A.maybe({network:A.maybe(A.Object),output:A.maybe(A.Buffer),input:A.maybe(A.Buffer),witness:A.maybe(A.arrayOf(A.Buffer))}),input:A.maybe(A.Buffer),witness:A.maybe(A.arrayOf(A.Buffer))},e);let i=e.network;i=i||e.redeem&&e.redeem.network||f.bitcoin;const r={network:i},n=l.value(()=>{const t=I.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}}),s=l.value(()=>c.decompile(e.input)),o=l.value(()=>{const t=s();return{network:i,output:t[t.length-1],input:c.compile(t.slice(0,-1)),witness:e.witness||[]}});if(l.prop(r,"address",()=>{if(r.hash){const t=Buffer.allocUnsafe(21);return t.writeUInt8(r.network.scriptHash,0),r.hash.copy(t,1),I.encode(t)}}),l.prop(r,"hash",()=>e.output?e.output.slice(2,22):e.address?n().hash:r.redeem&&r.redeem.output?p.hash160(r.redeem.output):void 0),l.prop(r,"output",()=>{if(r.hash)return c.compile([g.OP_HASH160,r.hash,g.OP_EQUAL])}),l.prop(r,"redeem",()=>{if(e.input)return o()}),l.prop(r,"input",()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return c.compile([].concat(c.decompile(e.redeem.input),e.redeem.output))}),l.prop(r,"witness",()=>r.redeem&&r.redeem.witness?r.redeem.witness:r.input?[]:void 0),l.prop(r,"name",()=>{const t=["p2sh"];return void 0!==r.redeem&&t.push(r.redeem.name),t.join("-")}),t.validate){let r=Buffer.from([]);if(e.address){if(n().version!==i.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");r=n().hash}if(e.hash){if(0<r.length&&!r.equals(e.hash))throw new TypeError("Hash mismatch");r=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==g.OP_HASH160||20!==e.output[1]||e.output[22]!==g.OP_EQUAL)throw new TypeError("Output is invalid");var u=e.output.slice(2,22);if(0<r.length&&!r.equals(u))throw new TypeError("Hash mismatch");r=u}u=t=>{if(t.output){var e=c.decompile(t.output);if(!e||e.length<1)throw new TypeError("Redeem.output too short");var i=p.hash160(t.output);if(0<r.length&&!r.equals(i))throw new TypeError("Hash mismatch");r=i}if(t.input){e=0<t.input.length,i=t.witness&&0<t.witness.length;if(!e&&!i)throw new TypeError("Empty input");if(e&&i)throw new TypeError("Input and witness provided");if(e){t=c.decompile(t.input);if(!c.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){var h=s();if(!h||h.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(o().output))throw new TypeError("Input is invalid");u(o())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw new TypeError("Network mismatch");if(e.input){h=o();if(e.redeem.output&&!e.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}u(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&(u=e.redeem.witness,a=e.witness,u.length!==a.length||!u.every((t,e)=>t.equals(a[e]))))throw new TypeError("Witness and redeem.witness mismatch")}var a;return Object.assign(r,e)}}.call(this,i(23).Buffer)},1296:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const o=i(175),u=i(127),h=i(39),a=i(216),p=i(79),f=h.OPS,c=i(193),l=i(542),A=Buffer.alloc(0);e.p2wpkh=function(r,t){if(!(r.address||r.hash||r.output||r.pubkey||r.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),p({address:p.maybe(p.String),hash:p.maybe(p.BufferN(20)),input:p.maybe(p.BufferN(0)),network:p.maybe(p.Object),output:p.maybe(p.BufferN(22)),pubkey:p.maybe(c.isPoint),signature:p.maybe(h.isCanonicalScriptSignature),witness:p.maybe(p.arrayOf(p.Buffer))},r);const e=a.value(()=>{const t=l.decode(r.address);var e=t.words.shift(),i=l.fromWords(t.words);return{version:e,prefix:t.prefix,data:Buffer.from(i)}}),i=r.network||u.bitcoin,n={name:"p2wpkh",network:i};if(a.prop(n,"address",()=>{if(n.hash){const t=l.toWords(n.hash);return t.unshift(0),l.encode(i.bech32,t)}}),a.prop(n,"hash",()=>r.output?r.output.slice(2,22):r.address?e().data:r.pubkey||n.pubkey?o.hash160(r.pubkey||n.pubkey):void 0),a.prop(n,"output",()=>{if(n.hash)return h.compile([f.OP_0,n.hash])}),a.prop(n,"pubkey",()=>r.pubkey||(r.witness?r.witness[1]:void 0)),a.prop(n,"signature",()=>{if(r.witness)return r.witness[0]}),a.prop(n,"input",()=>{if(n.witness)return A}),a.prop(n,"witness",()=>{if(r.pubkey&&r.signature)return[r.signature,r.pubkey]}),t.validate){let t=Buffer.from([]);if(r.address){if(i&&i.bech32!==e().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==e().version)throw new TypeError("Invalid address version");if(20!==e().data.length)throw new TypeError("Invalid address data");t=e().data}if(r.hash){if(0<t.length&&!t.equals(r.hash))throw new TypeError("Hash mismatch");t=r.hash}if(r.output){if(22!==r.output.length||r.output[0]!==f.OP_0||20!==r.output[1])throw new TypeError("Output is invalid");if(0<t.length&&!t.equals(r.output.slice(2)))throw new TypeError("Hash mismatch");t=r.output.slice(2)}if(r.pubkey){var s=o.hash160(r.pubkey);if(0<t.length&&!t.equals(s))throw new TypeError("Hash mismatch");if(t=s,!c.isPoint(r.pubkey)||33!==r.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(r.witness){if(2!==r.witness.length)throw new TypeError("Witness is invalid");if(!h.isCanonicalScriptSignature(r.witness[0]))throw new TypeError("Witness has invalid signature");if(!c.isPoint(r.witness[1])||33!==r.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(r.signature&&!r.signature.equals(r.witness[0]))throw new TypeError("Signature mismatch");if(r.pubkey&&!r.pubkey.equals(r.witness[1]))throw new TypeError("Pubkey mismatch");s=o.hash160(r.witness[1]);if(0<t.length&&!t.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(n,r)}}.call(this,i(23).Buffer)},1297:function(t,i,r){"use strict";!function(Buffer){Object.defineProperty(i,"__esModule",{value:!0});const a=r(175),p=r(127),f=r(39),c=r(216),l=r(79),A=f.OPS,e=r(193),g=r(542),I=Buffer.alloc(0);function d(t){return!(!Buffer.isBuffer(t)||65!==t.length||4!==t[0]||!e.isPoint(t))}i.p2wsh=function(r,t){if(!(r.address||r.hash||r.output||r.redeem||r.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),l({network:l.maybe(l.Object),address:l.maybe(l.String),hash:l.maybe(l.BufferN(32)),output:l.maybe(l.BufferN(34)),redeem:l.maybe({input:l.maybe(l.Buffer),network:l.maybe(l.Object),output:l.maybe(l.Buffer),witness:l.maybe(l.arrayOf(l.Buffer))}),input:l.maybe(l.BufferN(0)),witness:l.maybe(l.arrayOf(l.Buffer))},r);const e=c.value(()=>{const t=g.decode(r.address);var e=t.words.shift(),i=g.fromWords(t.words);return{version:e,prefix:t.prefix,data:Buffer.from(i)}}),i=c.value(()=>f.decompile(r.redeem.input));let n=r.network;n=n||r.redeem&&r.redeem.network||p.bitcoin;const s={network:n};if(c.prop(s,"address",()=>{if(s.hash){const t=g.toWords(s.hash);return t.unshift(0),g.encode(n.bech32,t)}}),c.prop(s,"hash",()=>r.output?r.output.slice(2):r.address?e().data:s.redeem&&s.redeem.output?a.sha256(s.redeem.output):void 0),c.prop(s,"output",()=>{if(s.hash)return f.compile([A.OP_0,s.hash])}),c.prop(s,"redeem",()=>{if(r.witness)return{output:r.witness[r.witness.length-1],input:I,witness:r.witness.slice(0,-1)}}),c.prop(s,"input",()=>{if(s.witness)return I}),c.prop(s,"witness",()=>{if(r.redeem&&r.redeem.input&&0<r.redeem.input.length&&r.redeem.output&&0<r.redeem.output.length){var t=f.toStack(i());return s.redeem=Object.assign({witness:t},r.redeem),s.redeem.input=I,[].concat(t,r.redeem.output)}if(r.redeem&&r.redeem.output&&r.redeem.witness)return[].concat(r.redeem.witness,r.redeem.output)}),c.prop(s,"name",()=>{const t=["p2wsh"];return void 0!==s.redeem&&t.push(s.redeem.name),t.join("-")}),t.validate){let t=Buffer.from([]);if(r.address){if(e().prefix!==n.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==e().version)throw new TypeError("Invalid address version");if(32!==e().data.length)throw new TypeError("Invalid address data");t=e().data}if(r.hash){if(0<t.length&&!t.equals(r.hash))throw new TypeError("Hash mismatch");t=r.hash}if(r.output){if(34!==r.output.length||r.output[0]!==A.OP_0||32!==r.output[1])throw new TypeError("Output is invalid");var o=r.output.slice(2);if(0<t.length&&!t.equals(o))throw new TypeError("Hash mismatch");t=o}if(r.redeem){if(r.redeem.network&&r.redeem.network!==n)throw new TypeError("Network mismatch");if(r.redeem.input&&0<r.redeem.input.length&&r.redeem.witness&&0<r.redeem.witness.length)throw new TypeError("Ambiguous witness source");if(r.redeem.output){if(0===f.decompile(r.redeem.output).length)throw new TypeError("Redeem.output is invalid");o=a.sha256(r.redeem.output);if(0<t.length&&!t.equals(o))throw new TypeError("Hash mismatch");t=o}if(r.redeem.input&&!f.isPushOnly(i()))throw new TypeError("Non push-only scriptSig");if(r.witness&&r.redeem.witness&&(u=r.witness,h=r.redeem.witness,u.length!==h.length||!u.every((t,e)=>t.equals(h[e]))))throw new TypeError("Witness and redeem.witness mismatch");if(r.redeem.input&&i().some(d)||r.redeem.output&&(f.decompile(r.redeem.output)||[]).some(d))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(r.witness&&0<r.witness.length){u=r.witness[r.witness.length-1];if(r.redeem&&r.redeem.output&&!r.redeem.output.equals(u))throw new TypeError("Witness and redeem.output mismatch");if(r.witness.some(d)||(f.decompile(u)||[]).some(d))throw new TypeError("Witness contains uncompressed pubkey")}}var u,h;return Object.assign(s,r)}}.call(this,r(23).Buffer)},1298:function(t,i,l){"use strict";!function(Buffer){Object.defineProperty(i,"__esModule",{value:!0});const s=l(382),r=l(175),o=l(383),n=l(151),u=l(1299),h=l(79),e=l(544),a=new TypeError("Cannot compute merkle root for zero transactions"),p=new TypeError("Cannot compute witness commit for non-segwit block");class f{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");const e=new s.BufferReader(t),i=new f;if(i.version=e.readInt32(),i.prevHash=e.readSlice(32),i.merkleRoot=e.readSlice(32),i.timestamp=e.readUInt32(),i.bits=e.readUInt32(),i.nonce=e.readUInt32(),80===t.length)return i;var r=e.readVarInt();i.transactions=[];for(let t=0;t<r;++t){var n=(()=>{const t=o.Transaction.fromBuffer(e.buffer.slice(e.offset),!0);return e.offset+=t.byteLength(),t})();i.transactions.push(n)}t=i.getWitnessCommit();return t&&(i.witnessCommit=t),i}static fromHex(t){return f.fromBuffer(Buffer.from(t,"hex"))}static calculateTarget(t){var e=((4278190080&t)>>24)-3,t=8388607&t;const i=Buffer.alloc(32,0);return i.writeUIntBE(t,29-e,3),i}static calculateMerkleRoot(t,e){if(h([{getHash:n.Function}],t),0===t.length)throw a;if(e&&!c(t))throw p;var i=t.map(t=>t.getHash(e)),i=u(i,r.hash256);return e?r.hash256(Buffer.concat([i,t[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!c(this.transactions))return null;var t=this.transactions[0].outs.filter(t=>t.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(t=>t.script.slice(6,38));if(0===t.length)return null;t=t[t.length-1];return t instanceof Buffer&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(t=this.transactions)instanceof Array&&t.some(t=>"object"==typeof t&&t.ins instanceof Array&&t.ins.some(t=>"object"==typeof t&&t.witness instanceof Array&&0<t.witness.length));var t}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(t,i=!0){return t||!this.transactions?80:80+e.encodingLength(this.transactions.length)+this.transactions.reduce((t,e)=>t+e.byteLength(i),0)}getHash(){return r.hash256(this.toBuffer(!0))}getId(){return s.reverseBuffer(this.getHash()).toString("hex")}getUTCDate(){const t=new Date(0);return t.setUTCSeconds(this.timestamp),t}toBuffer(t){const i=Buffer.allocUnsafe(this.byteLength(t)),r=new s.BufferWriter(i);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),t||!this.transactions||(e.encode(this.transactions.length,i,r.offset),r.offset+=e.encode.bytes,this.transactions.forEach(t=>{var e=t.byteLength();t.toBuffer(i,r.offset),r.offset+=e})),i}toHex(t){return this.toBuffer(t).toString("hex")}checkTxRoots(){var t=this.hasWitnessCommit();return!(!t&&this.hasWitness())&&this.__checkMerkleRoot()&&(!t||this.__checkWitnessCommit())}checkProofOfWork(){const t=s.reverseBuffer(this.getHash());var e=f.calculateTarget(this.bits);return t.compare(e)<=0}__checkMerkleRoot(){if(!this.transactions)throw a;var t=f.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)}__checkWitnessCommit(){if(!this.transactions)throw a;if(!this.hasWitnessCommit())throw p;var t=f.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(t)}}function c(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&0<t[0].ins[0].witness.length}i.Block=f}.call(this,l(23).Buffer)},1300:function(t,j,X){"use strict";!function(Buffer){Object.defineProperty(j,"__esModule",{value:!0});const r=X(1301),h=X(384),u=X(751),n=X(540),i=X(382),s=X(175),A=X(543);var t=X(127);const g=X(381),I=X(39),d=X(383),o={network:t.bitcoin,maximumFeeRate:5e3};class a{constructor(t={},e=new r.Psbt(new f)){this.data=e,this.opts=Object.assign({},o,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);t=(t,e,i,r)=>Object.defineProperty(t,e,{enumerable:i,writable:r});t(this,"__CACHE",!1,!0),t(this,"opts",!1,!0)}static fromBase64(t,e={}){t=Buffer.from(t,"base64");return this.fromBuffer(t,e)}static fromHex(t,e={}){t=Buffer.from(t,"hex");return this.fromBuffer(t,e)}static fromBuffer(t,e={}){var t=r.Psbt.fromBuffer(t,p),e=new a(e,t),t=e.__CACHE.__TX,i=e.__CACHE;return t.ins.forEach(t=>{B(i,t)}),e}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map(t=>({hash:i.cloneBuffer(t.hash),index:t.index,sequence:t.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(t=>{let e;try{e=n.fromOutputScript(t.script,this.opts.network)}catch(t){}return{script:i.cloneBuffer(t.script),value:t.value,address:e}})}combine(...t){return this.data.combine(...t.map(t=>t.data)),this}clone(){const t=a.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){b(t),this.opts.maximumFeeRate=t}setVersion(t){b(t),M(this.data.inputs,"setVersion");const e=this.__CACHE;return e.__TX.version=t,e.__EXTRACTED_TX=void 0,this}setLocktime(t){b(t),M(this.data.inputs,"setLocktime");const e=this.__CACHE;return e.__TX.locktime=t,e.__EXTRACTED_TX=void 0,this}setInputSequence(t,e){b(e),M(this.data.inputs,"setInputSequence");const i=this.__CACHE;if(i.__TX.ins.length<=t)throw new Error("Input index too high");return i.__TX.ins[t].sequence=e,i.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach(t=>this.addInput(t)),this}addInput(t){if(1<arguments.length||!t||void 0===t.hash||void 0===t.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");M(this.data.inputs,"addInput"),t.witnessScript&&R(t.witnessScript);const e=this.__CACHE;this.data.addInput(t);var i=e.__TX.ins[e.__TX.ins.length-1];B(e,i);t=this.data.inputs.length-1,i=this.data.inputs[t];return i.nonWitnessUtxo&&K(this.__CACHE,i,t),e.__FEE=void 0,e.__FEE_RATE=void 0,e.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach(t=>this.addOutput(t)),this}addOutput(t){if(1<arguments.length||!t||void 0===t.value||void 0===t.address&&void 0===t.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");M(this.data.inputs,"addOutput");var e,i=t.address;"string"==typeof i&&(e=this.opts.network,e=n.toOutputScript(i,e),t=Object.assign(t,{script:e}));const r=this.__CACHE;return this.data.addOutput(t),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(l))throw new Error("Not finalized");const e=this.__CACHE;if(t||function(t,e,i){t=e.__FEE_RATE||t.getFeeRate(),e=e.__EXTRACTED_TX.virtualSize();if(t>=i.maximumFeeRate)throw new Error(`Warning: You are paying around ${(t*e/1e8).toFixed(8)} in `+`fees, which is ${t} satoshi per byte for a transaction `+`with a VSize of ${e} bytes (segwit counted as 0.25 byte per `+"byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.")}(this,e,this.opts),e.__EXTRACTED_TX)return e.__EXTRACTED_TX;t=e.__TX.clone();return F(this.data.inputs,t,e,!0),t}getFeeRate(){return T("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return T("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return u.checkForInput(this.data.inputs,0),q(this.data.inputs.length).forEach(t=>this.finalizeInput(t)),this}finalizeInput(t,e=function(t,e,u,i,r,n){var s=W(u);if(!function(t,e){switch(s){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return c(1,t.partialSig);case"multisig":var i=g.p2ms({output:e});return c(i.m,t.partialSig,i.pubkeys);default:return}}(e,u))throw new Error("Can not finalize input #"+t);return function(n,t,e,i,r){let s,o;t=function(t,e){let i;switch(n){case"multisig":var r=function(t,i){const e=g.p2ms({output:t});return e.pubkeys.map(e=>(i.filter(t=>t.pubkey.equals(e))[0]||{}).signature).filter(t=>!!t)}(t,e);i=g.p2ms({output:t,signatures:r});break;case"pubkey":i=g.p2pk({output:t,signature:e[0].signature});break;case"pubkeyhash":i=g.p2pkh({output:t,pubkey:e[0].pubkey,signature:e[0].signature});break;case"witnesspubkeyhash":i=g.p2wpkh({output:t,pubkey:e[0].pubkey,signature:e[0].signature})}return i}(u,t),r=r?g.p2wsh({redeem:t}):null,i=i?g.p2sh({redeem:r||t}):null;return e?(o=function(t){let r=Buffer.allocUnsafe(0);function e(t){var e=r.length,i=h.encodingLength(t);r=Buffer.concat([r,Buffer.allocUnsafe(i)]),h.encode(t,r,e)}return e((t=t).length),t.forEach(function(t){e(t.length),t=t,r=Buffer.concat([r,Buffer.from(t)])}),r}((r||t).witness),i&&(s=i.input)):s=(i||t).input,{finalScriptSig:s,finalScriptWitness:o}}(s,e.partialSig,i,r,n)}){var i=u.checkForInput(this.data.inputs,t),{script:r,isP2SH:n,isP2WSH:s,isSegwit:o}=function(t,e,i){const r=i.__TX,n={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};return n.isP2SH=!!e.redeemScript,n.isP2WSH=!!e.witnessScript,e.witnessScript?n.script=e.witnessScript:e.redeemScript?n.script=e.redeemScript:e.nonWitnessUtxo?(i=x(i,e,t),t=r.ins[t].index,n.script=i.outs[t].script):e.witnessUtxo&&(n.script=e.witnessUtxo.script),(e.witnessScript||C(n.script))&&(n.isSegwit=!0),n}(t,i,this.__CACHE);if(!r)throw new Error("No script found for input #"+t);!function(){if(i.sighashType&&i.partialSig){const{partialSig:t,sighashType:e}=i;t.forEach(t=>{t=I.signature.decode(t.signature).hashType;if(e!==t)throw new Error("Signature sighash does not match input sighash type")})}}();var{finalScriptSig:n,finalScriptWitness:s}=e(t,i,r,o,n,s);if(n&&this.data.updateInput(t,{finalScriptSig:n}),s&&this.data.updateInput(t,{finalScriptWitness:s}),!n&&!s)throw new Error("Unknown error finalizing input #"+t);return this.data.clearFinalizedInput(t),this}getInputType(t){var e=u.checkForInput(this.data.inputs,t),e=L(V(t,e,this.__CACHE),t,"input",e.redeemScript||function(t){if(t){var e=I.decompile(t);if(e){t=e[e.length-1];if(Buffer.isBuffer(t)&&!G(t)&&(e=t,!I.isCanonicalScriptSignature(e))&&I.decompile(t))return t}}}(e.finalScriptSig),e.witnessScript||function(t){if(t){t=N(t),t=t[t.length-1];if(!G(t)&&I.decompile(t))return t}}(e.finalScriptWitness));return("raw"===e.type?"":e.type+"-")+W(e.meaningfulScript)}inputHasPubkey(t,e){var i=u.checkForInput(this.data.inputs,t),t=t;return Y(e,L(V(t,i,this.__CACHE),t,"input",i.redeemScript,i.witnessScript).meaningfulScript)}inputHasHDKey(t,e){const i=u.checkForInput(this.data.inputs,t);e=_(e);return!!i.bip32Derivation&&i.bip32Derivation.some(e)}outputHasPubkey(t,e){var i=u.checkForOutput(this.data.outputs,t);return Y(e,L(this.__CACHE.__TX.outs[t].script,t,"output",i.redeemScript,i.witnessScript).meaningfulScript)}outputHasHDKey(t,e){const i=u.checkForOutput(this.data.outputs,t);e=_(e);return!!i.bip32Derivation&&i.bip32Derivation.some(e)}validateSignaturesOfAllInputs(){u.checkForInput(this.data.inputs,0);const t=q(this.data.inputs.length).map(t=>this.validateSignaturesOfInput(t));return t.reduce((t,e)=>!0===e&&t,!0)}validateSignaturesOfInput(t,e){var i=this.data.inputs[t];const r=(i||{}).partialSig;if(!i||!r||r.length<1)throw new Error("No signatures to validate");var n=e?r.filter(t=>t.pubkey.equals(e)):r;if(n.length<1)throw new Error("No signatures for this pubkey");const s=[];let o,u,h;for(const c of n){var a=I.signature.decode(c.signature),{hash:p,script:f}=h!==a.hashType?U(t,Object.assign({},i,{sighashType:a.hashType}),this.__CACHE,!0):{hash:o,script:u};h=a.hashType,o=p,u=f,O(c.pubkey,f,"verify");const l=A.fromPublicKey(c.pubkey);s.push(l.verify(p,a.signature))}return s.every(t=>!0===t)}signAllInputsHD(t,e=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const i=[];for(const r of q(this.data.inputs.length))try{this.signInputHD(r,t,e),i.push(!0)}catch(t){i.push(!1)}if(i.every(t=>!1===t))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(s,o=[d.Transaction.SIGHASH_ALL]){return new Promise((t,e)=>{if(!s||!s.publicKey||!s.fingerprint)return e(new Error("Need HDSigner to sign input"));const i=[],r=[];for(const n of q(this.data.inputs.length))r.push(this.signInputHDAsync(n,s,o).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(r).then(()=>i.every(t=>!1===t)?e(new Error("No inputs were signed")):void t())})}signInputHD(e,t,i=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const r=D(e,this.data.inputs,t);return r.forEach(t=>this.signInput(e,t,i)),this}signInputHDAsync(n,s,o=[d.Transaction.SIGHASH_ALL]){return new Promise((t,e)=>{if(!s||!s.publicKey||!s.fingerprint)return e(new Error("Need HDSigner to sign input"));const i=D(n,this.data.inputs,s);var r=i.map(t=>this.signInputAsync(n,t,o));return Promise.all(r).then(()=>{t()}).catch(e)})}signAllInputs(t,e=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=[];for(const r of q(this.data.inputs.length))try{this.signInput(r,t,e),i.push(!0)}catch(t){i.push(!1)}if(i.every(t=>!1===t))throw new Error("No inputs were signed");return this}signAllInputsAsync(s,o=[d.Transaction.SIGHASH_ALL]){return new Promise((t,e)=>{if(!s||!s.publicKey)return e(new Error("Need Signer to sign input"));const i=[],r=[];for(var[n]of this.data.inputs.entries())r.push(this.signInputAsync(n,s,o).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(r).then(()=>i.every(t=>!1===t)?e(new Error("No inputs were signed")):void t())})}signInput(t,e,i=[d.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");var{hash:r,sighashType:i}=H(this.data.inputs,t,e.publicKey,this.__CACHE,i),i=[{pubkey:e.publicKey,signature:I.signature.encode(e.sign(r),i)}];return this.data.updateInput(t,{partialSig:i}),this}signInputAsync(i,r,n=[d.Transaction.SIGHASH_ALL]){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const{hash:t,sighashType:e}=H(this.data.inputs,i,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(t)).then(t=>{t=[{pubkey:r.publicKey,signature:I.signature.encode(t,e)}];this.data.updateInput(i,{partialSig:t})})})}toBuffer(){return e(this.__CACHE),this.data.toBuffer()}toHex(){return e(this.__CACHE),this.data.toHex()}toBase64(){return e(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,e){return e.witnessScript&&R(e.witnessScript),this.data.updateInput(t,e),e.nonWitnessUtxo&&K(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,e){return this.data.updateOutput(t,e),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,e){return this.data.addUnknownKeyValToInput(t,e),this}addUnknownKeyValToOutput(t,e){return this.data.addUnknownKeyValToOutput(t,e),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}}j.Psbt=a;const p=t=>new f(t);class f{constructor(t=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=d.Transaction.fromBuffer(t),function(t){if(!t.ins.every(t=>t.script&&0===t.script.length&&t.witness&&0===t.witness.length))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(void 0===t.hash||void 0===t.index||!Buffer.isBuffer(t.hash)&&"string"!=typeof t.hash||"number"!=typeof t.index)throw new Error("Error adding input.");var e="string"==typeof t.hash?i.reverseBuffer(Buffer.from(t.hash,"hex")):t.hash;this.tx.addInput(e,t.index,t.sequence)}addOutput(t){if(void 0===t.script||void 0===t.value||!Buffer.isBuffer(t.script)||"number"!=typeof t.value)throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function e(t){if(!1!==t.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function c(t,i,e){if(i){e=e?e.map(t=>{const e=A.fromPublicKey(t,{compressed:!0}).publicKey;return i.find(t=>t.pubkey.equals(e))}).filter(t=>!!t):i;if(e.length>t)throw new Error("Too many signatures");return e.length===t}}function l(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function m(e){return t=>{try{return e({output:t}),!0}catch(t){return!1}}}const w=m(g.p2ms),y=m(g.p2pk),E=m(g.p2pkh),C=m(g.p2wpkh),v=m(g.p2wsh),S=m(g.p2sh);function _(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function b(t){if("number"!=typeof t||t!==Math.floor(t)||4294967295<t||t<0)throw new Error("Invalid 32 bit integer")}function M(t,r){t.forEach(t=>{let i=!1,e=[];if(0===(t.partialSig||[]).length){if(!t.finalScriptSig&&!t.finalScriptWitness)return;e=function(t){const e=t.finalScriptSig&&I.decompile(t.finalScriptSig)||[],i=t.finalScriptWitness&&I.decompile(t.finalScriptWitness)||[];return e.concat(i).filter(t=>Buffer.isBuffer(t)&&I.isCanonicalScriptSignature(t)).map(t=>({signature:t}))}(t)}else e=t.partialSig;if(e.forEach(t=>{t=I.signature.decode(t.signature).hashType;const e=[];switch(t&d.Transaction.SIGHASH_ANYONECANPAY&&e.push("addInput"),31&t){case d.Transaction.SIGHASH_ALL:break;case d.Transaction.SIGHASH_SINGLE:case d.Transaction.SIGHASH_NONE:e.push("addOutput"),e.push("setInputSequence")}-1===e.indexOf(r)&&(i=!0)}),i)throw new Error("Can not modify transaction, signatures exist.")})}function O(t,e,i){if(!Y(t,e))throw new Error(`Can not ${i} for this input with the key `+t.toString("hex"))}function B(t,e){e=i.reverseBuffer(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[e])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[e]=1}function P(n,s){return(t,e,i,r)=>{i=n({redeem:{output:i}}).output;if(!e.equals(i))throw new Error(s+` for ${r} #${t} doesn't match the scriptPubKey in the prevout`)}}const Q=P(g.p2sh,"Redeem script"),k=P(g.p2wsh,"Witness script");function T(t,e,i,r){if(!i.every(l))throw new Error("PSBT must be finalized to calculate "+e);if("__FEE_RATE"===t&&r.__FEE_RATE)return r.__FEE_RATE;if("__FEE"===t&&r.__FEE)return r.__FEE;let n,s=!0;return r.__EXTRACTED_TX?(n=r.__EXTRACTED_TX,s=!1):n=r.__TX.clone(),F(i,n,r,s),"__FEE_RATE"===t?r.__FEE_RATE:"__FEE"===t?r.__FEE:void 0}function H(t,e,i,r,n){var{hash:e,sighashType:r,script:n}=U(e,u.checkForInput(t,e),r,!1,n);return O(i,n,"sign"),{hash:e,sighashType:r}}function U(t,e,i,r,n){const s=i.__TX;var o=e.sighashType||d.Transaction.SIGHASH_ALL;if(n&&n.indexOf(o)<0){n=function(t){let e=t&d.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&t){case d.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case d.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case d.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE"}return e}(o);throw new Error("Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: "+n)}let u,h;if(e.nonWitnessUtxo){const c=x(i,e,t),l=s.ins[t].hash;var a=c.getHash();if(!l.equals(a))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);a=s.ins[t].index;h=c.outs[a]}else{if(!e.witnessUtxo)throw new Error("Need a Utxo input item for signing");h=e.witnessUtxo}const{meaningfulScript:p,type:f}=L(h.script,t,"input",e.redeemScript,e.witnessScript);if(0<=["p2sh-p2wsh","p2wsh"].indexOf(f))u=s.hashForWitnessV0(t,p,h.value,o);else if(C(p)){a=g.p2pkh({hash:p.slice(2)}).output;u=s.hashForWitnessV0(t,a,h.value,o)}else{if(void 0===e.nonWitnessUtxo&&!1===i.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: `+p.toString("hex"));r||i.__UNSAFE_SIGN_NONSEGWIT,u=s.hashForSignature(t,p,o)}return{script:p,sighashType:o,hash:u}}function D(t,e,i){const r=u.checkForInput(e,t);if(!r.bip32Derivation||0===r.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const n=r.bip32Derivation.map(t=>{if(t.masterFingerprint.equals(i.fingerprint))return t}).filter(t=>!!t);if(0===n.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return n.map(t=>{var e=i.derivePath(t.path);if(!t.pubkey.equals(e.publicKey))throw new Error("pubkey did not match bip32Derivation");return e})}function N(n){let s=0;function o(){var t=h.decode(n,s);return s+=h.decode.bytes,t}return function(){var e,i=o();const r=[];for(let t=0;t<i;t++)r.push((e=o(),s+=e,n.slice(s-e,s)));return r}()}function K(t,e,i){t.__NON_WITNESS_UTXO_BUF_CACHE[i]=e.nonWitnessUtxo;var r=d.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[i]=r;const n=t,s=i;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){var t=n.__NON_WITNESS_UTXO_BUF_CACHE[s];const e=n.__NON_WITNESS_UTXO_TX_CACHE[s];if(void 0!==t)return t;t=e.toBuffer();return n.__NON_WITNESS_UTXO_BUF_CACHE[s]=t},set(t){n.__NON_WITNESS_UTXO_BUF_CACHE[s]=t}})}function F(t,i,r,n){let s=0;t.forEach((t,e)=>{n&&t.finalScriptSig&&(i.ins[e].script=t.finalScriptSig),n&&t.finalScriptWitness&&(i.ins[e].witness=N(t.finalScriptWitness)),t.witnessUtxo?s+=t.witnessUtxo.value:t.nonWitnessUtxo&&(t=x(r,t,e),e=i.ins[e].index,e=t.outs[e],s+=e.value)});var e=i.outs.reduce((t,e)=>t+e.value,0),t=s-e;if(t<0)throw new Error("Outputs are spending more than Inputs");e=i.virtualSize();r.__FEE=t,r.__EXTRACTED_TX=i,r.__FEE_RATE=Math.floor(t/e)}function x(t,e,i){var r=t.__NON_WITNESS_UTXO_TX_CACHE;return r[i]||K(t,e,i),r[i]}function V(t,e,i){if(void 0!==e.witnessUtxo)return e.witnessUtxo.script;if(void 0===e.nonWitnessUtxo)throw new Error("Can't find pubkey in input without Utxo data");return x(i,e,t).outs[i.__TX.ins[t].index].script}function G(t){return 33===t.length&&I.isCanonicalPubKey(t)}function L(t,e,i,r,n){var s=S(t),o=s&&r&&v(r),u=v(t);if(s&&void 0===r)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((u||o)&&void 0===n)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let h;return o?(h=n,Q(e,t,r,i),k(e,r,n,i),R(h)):u?(h=n,k(e,t,n,i),R(h)):s?(h=r,Q(e,t,r,i)):h=t,{meaningfulScript:h,type:o?"p2sh-p2wsh":s?"p2sh":u?"p2wsh":"raw"}}function R(t){if(C(t)||S(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Y(e,t){const i=s.hash160(e),r=I.decompile(t);if(null===r)throw new Error("Unknown script error");return r.some(t=>"number"!=typeof t&&(t.equals(e)||t.equals(i)))}function W(t){return C(t)?"witnesspubkeyhash":E(t)?"pubkeyhash":w(t)?"multisig":y(t)?"pubkey":"nonstandard"}function q(t){return[...Array(t).keys()]}}.call(this,X(23).Buffer)},1318:function(t,e,h){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const i=h(540),o=h(382),A=h(1319),u=h(175),ECPair=h(543),r=h(127),g=h(381),I=h(39),a=h(39),l=h(383),d=h(151),m=h(79),w=A.types,y=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function E(t,e,i){try{m(t,e)}catch(t){throw new Error(i)}}function C(t,e){m(d.Buffer,t);var i=A.output(t);switch(i){case w.P2PKH:{if(!e)return{type:i};const n=g.p2pkh({output:t}).hash;var r=u.hash160(e);return n.equals(r)?{type:i,pubkeys:[e],signatures:[void 0]}:{type:i}}case w.P2WPKH:{if(!e)return{type:i};const s=g.p2wpkh({output:t}).hash;r=u.hash160(e);return s.equals(r)?{type:i,pubkeys:[e],signatures:[void 0]}:{type:i}}case w.P2PK:return{type:i,pubkeys:[g.p2pk({output:t}).pubkey],signatures:[void 0]};case w.P2MS:{const o=g.p2ms({output:t});return{type:i,pubkeys:o.pubkeys,signatures:o.pubkeys.map(()=>{}),maxSignatures:o.m}}}return{type:i}}function v(t){return void 0!==t.signScript&&void 0!==t.signType&&void 0!==t.pubkeys&&void 0!==t.signatures&&t.signatures.length===t.pubkeys.length&&0<t.pubkeys.length&&(!1===t.hasWitness||void 0!==t.value)}function n(t){return t.readUInt8(t.length-1)}e.TransactionBuilder=class s{constructor(t=r.bitcoin,e=2500){this.network=t,this.maximumFeeRate=e,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new l.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1}static fromTransaction(i,t){const e=new s(t);return e.setVersion(i.version),e.setLockTime(i.locktime),i.outs.forEach(t=>{e.addOutput(t.script,t.value)}),i.ins.forEach(t=>{e.__addInputUnsafe(t.hash,t.index,{sequence:t.sequence,script:t.script,witness:t.witness})}),e.__INPUTS.forEach((t,e)=>{!function(o,u,h){if(o.redeemScriptType===w.P2MS&&o.redeemScript&&o.pubkeys.length!==o.signatures.length){const a=o.signatures.concat();o.signatures=o.pubkeys.map(t=>{const n=ECPair.fromPublicKey(t);let s;return a.some((t,e)=>{if(!t)return!1;var i=I.signature.decode(t),r=u.hashForSignature(h,o.redeemScript,i.hashType);return!!n.verify(r,i.signature)&&(a[e]=void 0,s=t,!0)}),s})}}(t,i,e)}),e}setLowR(t){return m(m.maybe(m.Boolean),t),this.__USE_LOW_R=t=void 0===t||t}setLockTime(t){if(m(d.UInt32,t),this.__INPUTS.some(t=>!!t.signatures&&t.signatures.some(t=>void 0!==t)))throw new Error("No, this would invalidate signatures");this.__TX.locktime=t}setVersion(t){m(d.UInt32,t),this.__TX.version=t}addInput(t,e,i,r){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");let n;var s;return"string"==typeof t||t instanceof String?t=o.reverseBuffer(Buffer.from(t,"hex")):t instanceof l.Transaction&&(r=(s=t.outs[e]).script,n=s.value,t=t.getHash(!1)),this.__addInputUnsafe(t,e,{sequence:i,prevOutScript:r,value:n})}addOutput(t,e){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return"string"==typeof t&&(t=i.toOutputScript(t,this.network)),this.__TX.addOutput(t,e)}build(){return this.__build(!1)}buildIncomplete(){return this.__build(!0)}sign(t,e,i,r,n,s){!function({input:t,ourPubKey:e,keyPair:i,signatureHash:r,hashType:n,useLowR:s}){let o=!1;for(var[u,h]of t.pubkeys.entries())if(e.equals(h)){if(t.signatures[u])throw new Error("Signature already exists");if(33!==e.length&&t.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");h=i.sign(r,s);t.signatures[u]=I.signature.encode(h,n),o=!0}if(!o)throw new Error("Key pair cannot sign for this input")}(function(t,e,i,r,n,s,o,u,h,a,p){let f;if("number"==typeof n)f=n;else{if("object"!=typeof n)throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");!function(t,e){if(!y.has(e.prevOutScriptType))throw new TypeError(`Unknown prevOutScriptType "${e.prevOutScriptType}"`);E(m.Number,e.vin,"sign must include vin parameter as Number (input index)"),E(d.Signer,e.keyPair,"sign must include keyPair parameter as Signer interface"),E(m.maybe(m.Number),e.hashType,"sign hashType parameter must be a number");var i=(t[e.vin]||[]).prevOutType,r=e.prevOutScriptType;switch(r){case"p2pkh":if(i&&"pubkeyhash"!==i)throw new TypeError(`input #${e.vin} is not of type p2pkh: `+i);E(m.value(void 0),e.witnessScript,r+" requires NO witnessScript"),E(m.value(void 0),e.redeemScript,r+" requires NO redeemScript"),E(m.value(void 0),e.witnessValue,r+" requires NO witnessValue");break;case"p2pk":if(i&&"pubkey"!==i)throw new TypeError(`input #${e.vin} is not of type p2pk: `+i);E(m.value(void 0),e.witnessScript,r+" requires NO witnessScript"),E(m.value(void 0),e.redeemScript,r+" requires NO redeemScript"),E(m.value(void 0),e.witnessValue,r+" requires NO witnessValue");break;case"p2wpkh":if(i&&"witnesspubkeyhash"!==i)throw new TypeError(`input #${e.vin} is not of type p2wpkh: `+i);E(m.value(void 0),e.witnessScript,r+" requires NO witnessScript"),E(m.value(void 0),e.redeemScript,r+" requires NO redeemScript"),E(d.Satoshi,e.witnessValue,r+" requires witnessValue");break;case"p2ms":if(i&&"multisig"!==i)throw new TypeError(`input #${e.vin} is not of type p2ms: `+i);E(m.value(void 0),e.witnessScript,r+" requires NO witnessScript"),E(m.value(void 0),e.redeemScript,r+" requires NO redeemScript"),E(m.value(void 0),e.witnessValue,r+" requires NO witnessValue");break;case"p2sh-p2wpkh":if(i&&"scripthash"!==i)throw new TypeError(`input #${e.vin} is not of type p2sh-p2wpkh: `+i);E(m.value(void 0),e.witnessScript,r+" requires NO witnessScript"),E(m.Buffer,e.redeemScript,r+" requires redeemScript"),E(d.Satoshi,e.witnessValue,r+" requires witnessValue");break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(i&&"scripthash"!==i)throw new TypeError(`input #${e.vin} is not of type ${r}: `+i);E(m.value(void 0),e.witnessScript,r+" requires NO witnessScript"),E(m.Buffer,e.redeemScript,r+" requires redeemScript"),E(m.value(void 0),e.witnessValue,r+" requires NO witnessValue");break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(i&&"witnessscripthash"!==i)throw new TypeError(`input #${e.vin} is not of type ${r}: `+i);E(m.Buffer,e.witnessScript,r+" requires witnessScript"),E(m.value(void 0),e.redeemScript,r+" requires NO redeemScript"),E(d.Satoshi,e.witnessValue,r+" requires witnessValue");break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(i&&"scripthash"!==i)throw new TypeError(`input #${e.vin} is not of type ${r}: `+i);E(m.Buffer,e.witnessScript,r+" requires witnessScript"),E(m.Buffer,e.redeemScript,r+" requires witnessScript"),E(d.Satoshi,e.witnessValue,r+" requires witnessScript")}}(e,n),{vin:f,keyPair:s,redeemScript:o,hashType:u,witnessValue:h,witnessScript:a}=n}if(void 0===s)throw new Error("sign requires keypair");if(s.network&&s.network!==t)throw new TypeError("Inconsistent network");if(!e[f])throw new Error("No input at index: "+f);if(i(u=u||l.Transaction.SIGHASH_ALL))throw new Error("Transaction needs outputs");const c=e[f];if(void 0!==c.redeemScript&&o&&!c.redeemScript.equals(o))throw new Error("Inconsistent redeemScript");e=s.publicKey||s.getPublicKey&&s.getPublicKey();if(!v(c)){if(void 0!==h){if(void 0!==c.value&&c.value!==h)throw new Error("Input did not match witnessValue");m(d.Satoshi,h),c.value=h}if(v(c)||(a=function(e,i,r,t){if(r&&t){const u=g.p2wsh({redeem:{output:t}});var n=g.p2wsh({output:r});const h=g.p2sh({redeem:{output:r}});var s=g.p2sh({redeem:u});if(!u.hash.equals(n.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!h.hash.equals(s.hash))throw new Error("Redeem script inconsistent with prevOutScript");const a=C(u.redeem.output,i);if(!a.pubkeys)throw new Error(a.type+" not supported as witnessScript ("+I.toASM(t)+")");e.signatures&&e.signatures.some(t=>void 0!==t)&&(a.signatures=e.signatures);s=t;if(a.type===w.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:w.P2WSH,witnessScript:t,witnessScriptType:a.type,prevOutType:w.P2SH,prevOutScript:h.output,hasWitness:!0,signScript:s,signType:a.type,pubkeys:a.pubkeys,signatures:a.signatures,maxSignatures:a.maxSignatures}}if(r){const p=g.p2sh({redeem:{output:r}});if(e.prevOutScript){let t;try{t=g.p2sh({output:e.prevOutScript})}catch(t){throw new Error("PrevOutScript must be P2SH")}if(!p.hash.equals(t.hash))throw new Error("Redeem script inconsistent with prevOutScript")}const f=C(p.redeem.output,i);if(!f.pubkeys)throw new Error(f.type+" not supported as redeemScript ("+I.toASM(r)+")");e.signatures&&e.signatures.some(t=>void 0!==t)&&(f.signatures=e.signatures);let t=r;return f.type===w.P2WPKH&&(t=g.p2pkh({pubkey:f.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:f.type,prevOutType:w.P2SH,prevOutScript:p.output,hasWitness:f.type===w.P2WPKH,signScript:t,signType:f.type,pubkeys:f.pubkeys,signatures:f.signatures,maxSignatures:f.maxSignatures}}if(t){const c=g.p2wsh({redeem:{output:t}});if(e.prevOutScript){var o=g.p2wsh({output:e.prevOutScript});if(!c.hash.equals(o.hash))throw new Error("Witness script inconsistent with prevOutScript")}const l=C(c.redeem.output,i);if(!l.pubkeys)throw new Error(l.type+" not supported as witnessScript ("+I.toASM(t)+")");e.signatures&&e.signatures.some(t=>void 0!==t)&&(l.signatures=e.signatures);o=t;if(l.type===w.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:t,witnessScriptType:l.type,prevOutType:w.P2WSH,prevOutScript:c.output,hasWitness:!0,signScript:o,signType:l.type,pubkeys:l.pubkeys,signatures:l.signatures,maxSignatures:l.maxSignatures}}if(e.prevOutType&&e.prevOutScript){if(e.prevOutType===w.P2SH)throw new Error("PrevOutScript is "+e.prevOutType+", requires redeemScript");if(e.prevOutType===w.P2WSH)throw new Error("PrevOutScript is "+e.prevOutType+", requires witnessScript");if(!e.prevOutScript)throw new Error("PrevOutScript is missing");const A=C(e.prevOutScript,i);if(!A.pubkeys)throw new Error(A.type+" not supported ("+I.toASM(e.prevOutScript)+")");e.signatures&&e.signatures.some(t=>void 0!==t)&&(A.signatures=e.signatures);let t=e.prevOutScript;return A.type===w.P2WPKH&&(t=g.p2pkh({pubkey:A.pubkeys[0]}).output),{prevOutType:A.type,prevOutScript:e.prevOutScript,hasWitness:A.type===w.P2WPKH,signScript:t,signType:A.type,pubkeys:A.pubkeys,signatures:A.signatures,maxSignatures:A.maxSignatures}}e=g.p2pkh({pubkey:i}).output;return{prevOutType:w.P2PKH,prevOutScript:e,hasWitness:!1,signScript:e,signType:w.P2PKH,pubkeys:[i],signatures:[void 0]}}(c,e,o,a),Object.assign(c,a)),!v(c))throw Error(c.prevOutType+" not supported")}return r=c.hasWitness?r.hashForWitnessV0(f,c.signScript,c.value,u):r.hashForSignature(f,c.signScript,u),{input:c,ourPubKey:e,keyPair:s,signatureHash:r,hashType:u,useLowR:!!p}}(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,t,e,i,r,n,s,this.__USE_LOW_R))}__addInputUnsafe(t,e,i){if(l.Transaction.isCoinbaseHash(t))throw new Error("coinbase inputs not supported");var r,n=t.toString("hex")+":"+e;if(void 0!==this.__PREV_TX_SET[n])throw new Error("Duplicate TxOut: "+n);let s={};if(void 0!==i.script&&(s=function t(i,r,n,e){if(0===i.length&&0===r.length)return{};if(!n){let t=A.input(i,!0),e=A.witness(r,!0);t===w.NONSTANDARD&&(t=void 0),e===w.NONSTANDARD&&(e=void 0),n=t||e}switch(n){case w.P2WPKH:var{output:s,pubkey:o,signature:u}=g.p2wpkh({witness:r});return{prevOutScript:s,prevOutType:w.P2WPKH,pubkeys:[o],signatures:[u]};case w.P2PKH:var{output:u,pubkey:h,signature:a}=g.p2pkh({input:i});return{prevOutScript:u,prevOutType:w.P2PKH,pubkeys:[h],signatures:[a]};case w.P2PK:var p=g.p2pk({input:i}).signature;return{prevOutType:w.P2PK,pubkeys:[void 0],signatures:[p]};case w.P2MS:var{m:h,pubkeys:a,signatures:p}=g.p2ms({input:i,output:e},{allowIncomplete:!0});return{prevOutType:w.P2MS,pubkeys:a,signatures:p,maxSignatures:h}}if(n===w.P2SH){var{output:f,redeem:c}=g.p2sh({input:i,witness:r}),l=A.output(c.output),l=t(c.input,c.witness,l,c.output);return l.prevOutType?{prevOutScript:f,prevOutType:w.P2SH,redeemScript:c.output,redeemScriptType:l.prevOutType,witnessScript:l.witnessScript,witnessScriptType:l.witnessScriptType,pubkeys:l.pubkeys,signatures:l.signatures}:{}}if(n!==w.P2WSH)return{prevOutType:w.NONSTANDARD,prevOutScript:i};var{output:c,redeem:l}=g.p2wsh({input:i,witness:r}),n=A.output(l.output),n=n===w.P2WPKH?t(l.input,l.witness,n):t(I.compile(l.witness),[],n,l.output);return n.prevOutType?{prevOutScript:c,prevOutType:w.P2WSH,witnessScript:l.output,witnessScriptType:n.prevOutType,pubkeys:n.pubkeys,signatures:n.signatures}:{}}(i.script,i.witness||[])),void 0!==i.value&&(s.value=i.value),!s.prevOutScript&&i.prevOutScript){let t;s.pubkeys||s.signatures||((r=C(i.prevOutScript)).pubkeys&&(s.pubkeys=r.pubkeys,s.signatures=r.signatures),t=r.type),s.prevOutScript=i.prevOutScript,s.prevOutType=t||A.output(i.prevOutScript)}i=this.__TX.addInput(t,e,i.sequence,i.scriptSig);return this.__INPUTS[i]=s,this.__PREV_TX_SET[n]=!0,i}__build(r){if(!r){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}const n=this.__TX.clone();if(this.__INPUTS.forEach((t,e)=>{if(!t.prevOutType&&!r)throw new Error("Transaction is not complete");var i=function t(e,i,r){var n=i.pubkeys||[];let s=i.signatures||[];switch(e){case w.P2PKH:if(0===n.length)break;if(0===s.length)break;return g.p2pkh({pubkey:n[0],signature:s[0]});case w.P2WPKH:if(0===n.length)break;if(0===s.length)break;return g.p2wpkh({pubkey:n[0],signature:s[0]});case w.P2PK:if(0===n.length)break;if(0===s.length)break;return g.p2pk({signature:s[0]});case w.P2MS:var o=i.maxSignatures;s=r?s.map(t=>t||a.OPS.OP_0):s.filter(t=>t);var u=!r||o===s.length;return g.p2ms({m:o,pubkeys:n,signatures:s},{allowIncomplete:r,validate:u});case w.P2SH:var h=t(i.redeemScriptType,i,r);return h?g.p2sh({redeem:{output:h.output||i.redeemScript,input:h.input,witness:h.witness}}):void 0;case w.P2WSH:h=t(i.witnessScriptType,i,r);return h?g.p2wsh({redeem:{output:i.witnessScript,input:h.input,witness:h.witness}}):void 0}}(t.prevOutType,t,r);if(i)n.setInputScript(e,i.input),n.setWitness(e,i.witness);else{if(!r&&t.prevOutType===w.NONSTANDARD)throw new Error("Unknown input type");if(!r)throw new Error("Not enough information")}}),!r&&this.__overMaximumFees(n.virtualSize()))throw new Error("Transaction has absurd fees");return n}__canModifyInputs(){return this.__INPUTS.every(t=>!t.signatures||t.signatures.every(t=>!t||0!=(n(t)&l.Transaction.SIGHASH_ANYONECANPAY)))}__needsOutputs(t){return t===l.Transaction.SIGHASH_ALL?0===this.__TX.outs.length:0===this.__TX.outs.length&&this.__INPUTS.some(t=>!!t.signatures&&t.signatures.some(t=>!(!t||n(t)&l.Transaction.SIGHASH_NONE)))}__canModifyOutputs(){const e=this.__TX.ins.length,i=this.__TX.outs.length;return this.__INPUTS.every(t=>void 0===t.signatures||t.signatures.every(t=>{if(!t)return!0;t=31&n(t);return t===l.Transaction.SIGHASH_NONE||t===l.Transaction.SIGHASH_SINGLE&&e<=i}))}__overMaximumFees(t){return(this.__INPUTS.reduce((t,e)=>t+(e.value>>>0),0)-this.__TX.outs.reduce((t,e)=>t+e.value,0))/t>this.maximumFeeRate}}}.call(this,h(23).Buffer)},1319:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(547),s=i(1322),o=i(548),u=i(549),h=i(1327),a=i(1330),p=i(1332),f=i(1334),c={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};e.types=c,e.output=function(t){if(p.output.check(t))return c.P2WPKH;if(f.output.check(t))return c.P2WSH;if(u.output.check(t))return c.P2PKH;if(h.output.check(t))return c.P2SH;t=r.decompile(t);if(!t)throw new TypeError("Invalid script");return n.output.check(t)?c.P2MS:o.output.check(t)?c.P2PK:a.output.check(t)?c.WITNESS_COMMITMENT:s.output.check(t)?c.NULLDATA:c.NONSTANDARD},e.input=function(t,e){t=r.decompile(t);if(!t)throw new TypeError("Invalid script");return u.input.check(t)?c.P2PKH:h.input.check(t,e)?c.P2SH:n.input.check(t,e)?c.P2MS:o.input.check(t)?c.P2PK:c.NONSTANDARD},e.witness=function(t,e){t=r.decompile(t);if(!t)throw new TypeError("Invalid script");return p.input.check(t)?c.P2WPKH:f.input.check(t,e)?c.P2WSH:c.NONSTANDARD}},1320:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(39);function s(t){return t===n.OPS.OP_0||r.isCanonicalScriptSignature(t)}(e.check=function(t,e){const i=r.decompile(t);return!(i.length<2)&&i[0]===n.OPS.OP_0&&(e?i.slice(1).every(s):i.slice(1).every(r.isCanonicalScriptSignature))}).toJSON=()=>"multisig input"},1321:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(39),o=i(39),u=i(151),h=o.OPS.OP_RESERVED;(e.check=function(t,e){const i=s.decompile(t);if(i.length<4)return!1;if(i[i.length-1]!==o.OPS.OP_CHECKMULTISIG)return!1;if(!u.Number(i[0]))return!1;if(!u.Number(i[i.length-2]))return!1;var r=i[0]-h,t=i[i.length-2]-h;if(r<=0)return!1;if(16<t)return!1;if(t<r)return!1;if(t!=i.length-3)return!1;if(e)return!0;const n=i.slice(1,-2);return n.every(s.isCanonicalPubKey)}).toJSON=()=>"multi-sig output"},1322:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=r.OPS;function s(t){t=r.compile(t);return 1<t.length&&t[0]===n.OP_RETURN}(e.check=s).toJSON=()=>"null data output",e.output={check:s}},1323:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39);(e.check=function(t){t=r.decompile(t);return 1===t.length&&r.isCanonicalScriptSignature(t[0])}).toJSON=()=>"pubKey input"},1324:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(39);(e.check=function(t){t=r.decompile(t);return 2===t.length&&r.isCanonicalPubKey(t[0])&&t[1]===n.OPS.OP_CHECKSIG}).toJSON=()=>"pubKey output"},1325:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39);(e.check=function(t){t=r.decompile(t);return 2===t.length&&r.isCanonicalScriptSignature(t[0])&&r.isCanonicalPubKey(t[1])}).toJSON=()=>"pubKeyHash input"},1326:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(39);(e.check=function(t){t=r.compile(t);return 25===t.length&&t[0]===n.OPS.OP_DUP&&t[1]===n.OPS.OP_HASH160&&20===t[2]&&t[23]===n.OPS.OP_EQUALVERIFY&&t[24]===n.OPS.OP_CHECKSIG}).toJSON=()=>"pubKeyHash output"},1327:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1328);e.input=r;i=i(1329);e.output=i},1328:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const n=i(39),s=i(547),o=i(548),u=i(549),h=i(752),a=i(753);(e.check=function(t,e){const i=n.decompile(t);if(i.length<1)return!1;var r=i[i.length-1];if(!Buffer.isBuffer(r))return!1;t=n.decompile(n.compile(i.slice(0,-1))),r=n.decompile(r);return!!r&&!!n.isPushOnly(t)&&(1===i.length?a.check(r)||h.check(r):!(!u.input.check(t)||!u.output.check(r))||!(!s.input.check(t,e)||!s.output.check(r))||!(!o.input.check(t)||!o.output.check(r)))}).toJSON=()=>"scriptHash input"}.call(this,i(23).Buffer)},1329:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(39);(e.check=function(t){t=r.compile(t);return 23===t.length&&t[0]===n.OPS.OP_HASH160&&20===t[1]&&t[22]===n.OPS.OP_EQUAL}).toJSON=()=>"scriptHash output"},1330:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=i(1331);e.output=i},1331:function(t,u,h){"use strict";!function(Buffer){Object.defineProperty(u,"__esModule",{value:!0});const i=h(39),r=h(39),n=h(151),s=h(79),o=Buffer.from("aa21a9ed","hex");function e(t){const e=i.compile(t);return 37<e.length&&e[0]===r.OPS.OP_RETURN&&36===e[1]&&e.slice(2,6).equals(o)}(u.check=e).toJSON=()=>"Witness commitment output",u.encode=function(t){s(n.Hash256bit,t);var e=Buffer.allocUnsafe(36);return o.copy(e,0),t.copy(e,4),i.compile([r.OPS.OP_RETURN,e])},u.decode=function(t){return s(e,t),i.decompile(t)[1].slice(4,36)}}.call(this,h(23).Buffer)},1332:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1333);e.input=r;i=i(752);e.output=i},1333:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39);(e.check=function(t){var t=r.decompile(t);return 2===t.length&&r.isCanonicalScriptSignature(t[0])&&(t=t[1],r.isCanonicalPubKey(t)&&33===t.length)}).toJSON=()=>"witnessPubKeyHash input"},1334:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1335);e.input=r;i=i(753);e.output=i},1335:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(79),s=i(547),o=i(548),u=i(549);(e.check=function(t,e){if(n(n.Array,t),t.length<1)return!1;var i=t[t.length-1];if(!Buffer.isBuffer(i))return!1;i=r.decompile(i);if(!i||0===i.length)return!1;t=r.compile(t.slice(0,-1));return!(!u.input.check(t)||!u.output.check(i))||!(!s.input.check(t,e)||!s.output.check(i))||!(!o.input.check(t)||!o.output.check(i))}).toJSON=()=>"witnessScriptHash input"}.call(this,i(23).Buffer)},151:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(79),n=Math.pow(2,31)-1;e.UInt31=function(t){return r.UInt32(t)&&t<=n},(e.BIP32Path=function(t){return r.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}).toJSON=()=>"BIP32 derivation path",e.Signer=function(t){return(r.Buffer(t.publicKey)||"function"==typeof t.getPublicKey)&&"function"==typeof t.sign},e.Satoshi=function(t){return r.UInt53(t)&&t<=21e14},e.ECPoint=r.quacksLike("Point"),e.Network=r.compile({messagePrefix:r.oneOf(r.Buffer,r.String),bip32:{public:r.UInt32,private:r.UInt32},pubKeyHash:r.UInt8,scriptHash:r.UInt8,wif:r.UInt8}),e.Buffer256bit=r.BufferN(32),e.Hash160bit=r.BufferN(20),e.Hash256bit=r.BufferN(32),e.Number=r.Number,e.Array=r.Array,e.Boolean=r.Boolean,e.String=r.String,e.Buffer=r.Buffer,e.Hex=r.Hex,e.maybe=r.maybe,e.tuple=r.tuple,e.UInt8=r.UInt8,e.UInt32=r.UInt32,e.Function=r.Function,e.BufferN=r.BufferN,e.Null=r.Null,e.oneOf=r.oneOf},175:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(174);function n(e){try{return r("rmd160").update(e).digest()}catch(t){return r("ripemd160").update(e).digest()}}function s(t){return r("sha256").update(t).digest()}e.ripemd160=n,e.sha1=function(t){return r("sha1").update(t).digest()},e.sha256=s,e.hash160=function(t){return n(s(t))},e.hash256=function(t){return s(s(t))}},216:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prop=function(t,e,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){var t=i.call(this);return this[e]=t},set(t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}})},e.value=function(t){let e;return()=>(void 0!==e||(e=t()),e)}},381:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1287);e.embed=r.p2data;r=i(1292);e.p2ms=r.p2ms;r=i(1293);e.p2pk=r.p2pk;r=i(1294);e.p2pkh=r.p2pkh;r=i(1295);e.p2sh=r.p2sh;r=i(1296);e.p2wpkh=r.p2wpkh;i=i(1297);e.p2wsh=i.p2wsh},382:function(t,u,h){"use strict";!function(Buffer){Object.defineProperty(u,"__esModule",{value:!0});const i=h(151),r=h(79),e=h(544);function n(t,e){if("number"!=typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(e<t)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function s(t,e){var i=t.readUInt32LE(e),e=t.readUInt32LE(e+4);return n((e*=4294967296)+i,9007199254740991),e+i}function o(t,e,i){return n(e,9007199254740991),t.writeInt32LE(-1&e,i),t.writeUInt32LE(Math.floor(e/4294967296),i+4),i+8}u.readUInt64LE=s,u.writeUInt64LE=o,u.reverseBuffer=function(e){if(e.length<1)return e;let i=e.length-1;var r;for(let t=0;t<e.length/2;t++)r=e[t],e[t]=e[i],e[i]=r,i--;return e},u.cloneBuffer=function(t){var e=Buffer.allocUnsafe(t.length);return t.copy(e),e},u.BufferWriter=class{constructor(t,e=0){this.buffer=t,this.offset=e,r(i.tuple(i.Buffer,i.UInt32),[t,e])}writeUInt8(t){this.offset=this.buffer.writeUInt8(t,this.offset)}writeInt32(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}writeUInt32(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}writeUInt64(t){this.offset=o(this.buffer,t,this.offset)}writeVarInt(t){e.encode(t,this.buffer,this.offset),this.offset+=e.encode.bytes}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach(t=>this.writeVarSlice(t))}},u.BufferReader=class{constructor(t,e=0){this.buffer=t,this.offset=e,r(i.tuple(i.Buffer,i.UInt32),[t,e])}readUInt8(){var t=this.buffer.readUInt8(this.offset);return this.offset++,t}readInt32(){var t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}readUInt32(){var t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}readUInt64(){var t=s(this.buffer,this.offset);return this.offset+=8,t}readVarInt(){var t=e.decode(this.buffer,this.offset);return this.offset+=e.decode.bytes,t}readSlice(t){if(this.buffer.length<this.offset+t)throw new Error("Cannot read slice out of bounds");var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){var e=this.readVarInt();const i=[];for(let t=0;t<e;t++)i.push(this.readVarSlice());return i}}}.call(this,h(23).Buffer)},383:function(t,e,r){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const p=r(382),f=r(175),s=r(39),o=r(39),c=r(151),l=r(79),i=r(544);function A(t){t=t.length;return i.encodingLength(t)+t}const u=Buffer.allocUnsafe(0),a=[],g=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),h=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex");var t=Buffer.from("ffffffffffffffff","hex");const I={script:u,valueBuffer:t};class d{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(t,e){const i=new p.BufferReader(t),r=new d;r.version=i.readInt32();var n=i.readUInt8(),s=i.readUInt8();let o=!1;n===d.ADVANCED_TRANSACTION_MARKER&&s===d.ADVANCED_TRANSACTION_FLAG?o=!0:i.offset-=2;var u=i.readVarInt();for(let t=0;t<u;++t)r.ins.push({hash:i.readSlice(32),index:i.readUInt32(),script:i.readVarSlice(),sequence:i.readUInt32(),witness:a});var h=i.readVarInt();for(let t=0;t<h;++t)r.outs.push({value:i.readUInt64(),script:i.readVarSlice()});if(o){for(let t=0;t<u;++t)r.ins[t].witness=i.readVector();if(!r.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(r.locktime=i.readUInt32(),e)return r;if(i.offset!==t.length)throw new Error("Transaction has unexpected data");return r}static fromHex(t){return d.fromBuffer(Buffer.from(t,"hex"),!1)}static isCoinbaseHash(e){l(c.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&d.isCoinbaseHash(this.ins[0].hash)}addInput(t,e,i,r){return l(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(i)&&(i=d.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:r||u,sequence:i,witness:a})-1}addOutput(t,e){return l(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:t,value:e})-1}hasWitnesses(){return this.ins.some(t=>0!==t.witness.length)}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){t=t&&this.hasWitnesses();return(t?10:8)+i.encodingLength(this.ins.length)+i.encodingLength(this.outs.length)+this.ins.reduce((t,e)=>t+40+A(e.script),0)+this.outs.reduce((t,e)=>t+8+A(e.script),0)+(t?this.ins.reduce((t,e)=>{return t+(e=(t=e.witness).length,i.encodingLength(e)+t.reduce((t,e)=>t+A(e),0))},0):0)}clone(){const t=new d;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(t=>({hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness})),t.outs=this.outs.map(t=>({script:t.script,value:t.value})),t}hashForSignature(i,t,e){if(l(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),i>=this.ins.length)return h;t=s.compile(s.decompile(t).filter(t=>t!==o.OPS.OP_CODESEPARATOR));const r=this.clone();if((31&e)===d.SIGHASH_NONE)r.outs=[],r.ins.forEach((t,e)=>{e!==i&&(t.sequence=0)});else if((31&e)===d.SIGHASH_SINGLE){if(i>=this.outs.length)return h;r.outs.length=i+1;for(let t=0;t<i;t++)r.outs[t]=I;r.ins.forEach((t,e)=>{e!==i&&(t.sequence=0)})}e&d.SIGHASH_ANYONECANPAY?(r.ins=[r.ins[i]],r.ins[0].script=t):(r.ins.forEach(t=>{t.script=u}),r.ins[i].script=t);const n=Buffer.allocUnsafe(r.byteLength(!1)+4);return n.writeInt32LE(e,n.length-4),r.__toBuffer(n,0,!1),f.hash256(n)}hashForWitnessV0(t,e,i,r){l(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);let n=Buffer.from([]),s,o=g,u=g,h=g;var a;r&d.SIGHASH_ANYONECANPAY||(n=Buffer.allocUnsafe(36*this.ins.length),s=new p.BufferWriter(n,0),this.ins.forEach(t=>{s.writeSlice(t.hash),s.writeUInt32(t.index)}),u=f.hash256(n)),r&d.SIGHASH_ANYONECANPAY||(31&r)===d.SIGHASH_SINGLE||(31&r)===d.SIGHASH_NONE||(n=Buffer.allocUnsafe(4*this.ins.length),s=new p.BufferWriter(n,0),this.ins.forEach(t=>{s.writeUInt32(t.sequence)}),h=f.hash256(n)),(31&r)!==d.SIGHASH_SINGLE&&(31&r)!==d.SIGHASH_NONE?(a=this.outs.reduce((t,e)=>t+8+A(e.script),0),n=Buffer.allocUnsafe(a),s=new p.BufferWriter(n,0),this.outs.forEach(t=>{s.writeUInt64(t.value),s.writeVarSlice(t.script)}),o=f.hash256(n)):(31&r)===d.SIGHASH_SINGLE&&t<this.outs.length&&(a=this.outs[t],n=Buffer.allocUnsafe(8+A(a.script)),s=new p.BufferWriter(n,0),s.writeUInt64(a.value),s.writeVarSlice(a.script),o=f.hash256(n)),n=Buffer.allocUnsafe(156+A(e)),s=new p.BufferWriter(n,0);t=this.ins[t];return s.writeUInt32(this.version),s.writeSlice(u),s.writeSlice(h),s.writeSlice(t.hash),s.writeUInt32(t.index),s.writeVarSlice(e),s.writeUInt64(i),s.writeUInt32(t.sequence),s.writeSlice(o),s.writeUInt32(this.locktime),s.writeUInt32(r),f.hash256(n)}getHash(t){return t&&this.isCoinbase()?Buffer.alloc(32,0):f.hash256(this.__toBuffer(void 0,void 0,t))}getId(){return p.reverseBuffer(this.getHash(!1)).toString("hex")}toBuffer(t,e){return this.__toBuffer(t,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(t,e){l(c.tuple(c.Number,c.Buffer),arguments),this.ins[t].script=e}setWitness(t,e){l(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[t].witness=e}__toBuffer(t,e,i=!1){t=t||Buffer.allocUnsafe(this.byteLength(i));const r=new p.BufferWriter(t,e||0);r.writeInt32(this.version);i=i&&this.hasWitnesses();return i&&(r.writeUInt8(d.ADVANCED_TRANSACTION_MARKER),r.writeUInt8(d.ADVANCED_TRANSACTION_FLAG)),r.writeVarInt(this.ins.length),this.ins.forEach(t=>{r.writeSlice(t.hash),r.writeUInt32(t.index),r.writeVarSlice(t.script),r.writeUInt32(t.sequence)}),r.writeVarInt(this.outs.length),this.outs.forEach(t=>{void 0!==t.value?r.writeUInt64(t.value):r.writeSlice(t.valueBuffer),r.writeVarSlice(t.script)}),i&&this.ins.forEach(t=>{r.writeVector(t.witness)}),r.writeUInt32(this.locktime),void 0!==e?t.slice(e,r.offset):t}}d.DEFAULT_SEQUENCE=4294967295,d.SIGHASH_ALL=1,d.SIGHASH_NONE=2,d.SIGHASH_SINGLE=3,d.SIGHASH_ANYONECANPAY=128,d.ADVANCED_TRANSACTION_MARKER=0,d.ADVANCED_TRANSACTION_FLAG=1,e.Transaction=d}.call(this,r(23).Buffer)},39:function(t,d,m){"use strict";!function(Buffer){Object.defineProperty(d,"__esModule",{value:!0});const e=m(1288);var t=m(1289);const u=m(151),i=m(749),r=m(193),h=m(1290),a=m(79);d.OPS=m(541);const n=m(1291),s=d.OPS.OP_RESERVED;function o(t){return u.Buffer(t)||(t=t,u.Number(t)&&(t===d.OPS.OP_0||t>=d.OPS.OP_1&&t<=d.OPS.OP_16||t===d.OPS.OP_1NEGATE))}function p(t){return u.Array(t)&&t.every(o)}function f(t){return 0===t.length?d.OPS.OP_0:1===t.length?1<=t[0]&&t[0]<=16?s+t[0]:129===t[0]?d.OPS.OP_1NEGATE:void 0:void 0}function c(t){return Buffer.isBuffer(t)}function l(t){return Buffer.isBuffer(t)}function A(t){if(c(t))return t;a(u.Array,t);var e=t.reduce((t,e)=>!l(e)||1===e.length&&void 0!==f(e)?t+1:t+h.encodingLength(e.length)+e.length,0);const i=Buffer.allocUnsafe(e);let r=0;if(t.forEach(t=>{if(l(t)){var e=f(t);if(void 0!==e)return i.writeUInt8(e,r),void(r+=1);r+=h.encode(i,t.length,r),t.copy(i,r),r+=t.length}else i.writeUInt8(t,r),r+=1}),r!==i.length)throw new Error("Could not decode chunks");return i}function g(t){if(e=t,u.Array(e))return t;var e;a(u.Buffer,t);const i=[];let r=0;for(;r<t.length;){var n=t[r];if(n>d.OPS.OP_0&&n<=d.OPS.OP_PUSHDATA4){var s=h.decode(t,r);if(null===s)return null;if(r+=s.size,r+s.number>t.length)return null;var o=t.slice(r,r+s.number);r+=s.number;s=f(o);void 0!==s?i.push(s):i.push(o)}else i.push(n),r+=1}return i}function I(t){t&=-129;return 0<t&&t<4}d.isPushOnly=p,d.compile=A,d.decompile=g,d.toASM=function(t){return(t=c(t)?g(t):t).map(t=>{if(l(t)){var e=f(t);if(void 0===e)return t.toString("hex");t=e}return n[t]}).join(" ")},d.fromASM=function(asm){return a(u.String,asm),A(asm.split(" ").map(t=>void 0!==d.OPS[t]?d.OPS[t]:(a(u.Hex,t),Buffer.from(t,"hex"))))},d.toStack=function(t){return t=g(t),a(p,t),t.map(t=>l(t)?t:t===d.OPS.OP_0?Buffer.allocUnsafe(0):e.encode(t-s))},d.isCanonicalPubKey=function(t){return r.isPoint(t)},d.isDefinedHashType=I,d.isCanonicalScriptSignature=function(t){return!!Buffer.isBuffer(t)&&!!I(t[t.length-1])&&i.check(t.slice(0,-1))},d.number=e,d.signature=t}.call(this,m(23).Buffer)},540:function(t,e,f){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const n=f(127),s=f(381),i=f(39),r=f(151),o=f(542),u=f(299),h=f(79);function a(t){const e=u.decode(t);if(e.length<21)throw new TypeError(t+" is too short");if(21<e.length)throw new TypeError(t+" is too long");return{version:e.readUInt8(0),hash:e.slice(1)}}function p(t){const e=o.decode(t);t=o.fromWords(e.words.slice(1));return{version:e.words[0],prefix:e.prefix,data:Buffer.from(t)}}e.fromBase58Check=a,e.fromBech32=p,e.toBase58Check=function(t,e){h(r.tuple(r.Hash160bit,r.UInt8),arguments);const i=Buffer.allocUnsafe(21);return i.writeUInt8(e,0),t.copy(i,1),u.encode(i)},e.toBech32=function(t,e,i){const r=o.toWords(t);return r.unshift(e),o.encode(i,r)},e.fromOutputScript=function(t,e){e=e||n.bitcoin;try{return s.p2pkh({output:t,network:e}).address}catch(t){}try{return s.p2sh({output:t,network:e}).address}catch(t){}try{return s.p2wpkh({output:t,network:e}).address}catch(t){}try{return s.p2wsh({output:t,network:e}).address}catch(t){}throw new Error(i.toASM(t)+" has no matching Address")},e.toOutputScript=function(t,e){e=e||n.bitcoin;let i,r;try{i=a(t)}catch(t){}if(i){if(i.version===e.pubKeyHash)return s.p2pkh({hash:i.hash}).output;if(i.version===e.scriptHash)return s.p2sh({hash:i.hash}).output}else{try{r=p(t)}catch(t){}if(r){if(r.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(0===r.version){if(20===r.data.length)return s.p2wpkh({hash:r.data}).output;if(32===r.data.length)return s.p2wsh({hash:r.data}).output}}}throw new Error(t+" has no matching Script")}}.call(this,f(23).Buffer)},541:function(t){t.exports=JSON.parse('{"OP_FALSE":0,"OP_0":0,"OP_PUSHDATA1":76,"OP_PUSHDATA2":77,"OP_PUSHDATA4":78,"OP_1NEGATE":79,"OP_RESERVED":80,"OP_TRUE":81,"OP_1":81,"OP_2":82,"OP_3":83,"OP_4":84,"OP_5":85,"OP_6":86,"OP_7":87,"OP_8":88,"OP_9":89,"OP_10":90,"OP_11":91,"OP_12":92,"OP_13":93,"OP_14":94,"OP_15":95,"OP_16":96,"OP_NOP":97,"OP_VER":98,"OP_IF":99,"OP_NOTIF":100,"OP_VERIF":101,"OP_VERNOTIF":102,"OP_ELSE":103,"OP_ENDIF":104,"OP_VERIFY":105,"OP_RETURN":106,"OP_TOALTSTACK":107,"OP_FROMALTSTACK":108,"OP_2DROP":109,"OP_2DUP":110,"OP_3DUP":111,"OP_2OVER":112,"OP_2ROT":113,"OP_2SWAP":114,"OP_IFDUP":115,"OP_DEPTH":116,"OP_DROP":117,"OP_DUP":118,"OP_NIP":119,"OP_OVER":120,"OP_PICK":121,"OP_ROLL":122,"OP_ROT":123,"OP_SWAP":124,"OP_TUCK":125,"OP_CAT":126,"OP_SUBSTR":127,"OP_LEFT":128,"OP_RIGHT":129,"OP_SIZE":130,"OP_INVERT":131,"OP_AND":132,"OP_OR":133,"OP_XOR":134,"OP_EQUAL":135,"OP_EQUALVERIFY":136,"OP_RESERVED1":137,"OP_RESERVED2":138,"OP_1ADD":139,"OP_1SUB":140,"OP_2MUL":141,"OP_2DIV":142,"OP_NEGATE":143,"OP_ABS":144,"OP_NOT":145,"OP_0NOTEQUAL":146,"OP_ADD":147,"OP_SUB":148,"OP_MUL":149,"OP_DIV":150,"OP_MOD":151,"OP_LSHIFT":152,"OP_RSHIFT":153,"OP_BOOLAND":154,"OP_BOOLOR":155,"OP_NUMEQUAL":156,"OP_NUMEQUALVERIFY":157,"OP_NUMNOTEQUAL":158,"OP_LESSTHAN":159,"OP_GREATERTHAN":160,"OP_LESSTHANOREQUAL":161,"OP_GREATERTHANOREQUAL":162,"OP_MIN":163,"OP_MAX":164,"OP_WITHIN":165,"OP_RIPEMD160":166,"OP_SHA1":167,"OP_SHA256":168,"OP_HASH160":169,"OP_HASH256":170,"OP_CODESEPARATOR":171,"OP_CHECKSIG":172,"OP_CHECKSIGVERIFY":173,"OP_CHECKMULTISIG":174,"OP_CHECKMULTISIGVERIFY":175,"OP_NOP1":176,"OP_NOP2":177,"OP_CHECKLOCKTIMEVERIFY":177,"OP_NOP3":178,"OP_CHECKSEQUENCEVERIFY":178,"OP_NOP4":179,"OP_NOP5":180,"OP_NOP6":181,"OP_NOP7":182,"OP_NOP8":183,"OP_NOP9":184,"OP_NOP10":185,"OP_PUBKEYHASH":253,"OP_PUBKEY":254,"OP_INVALIDOPCODE":255}')},543:function(t,e,i){"use strict";!function(Buffer){Object.defineProperty(e,"__esModule",{value:!0});const r=i(127),n=i(151),s=i(193),o=i(191),u=i(79),h=i(746),a=u.maybe(u.compile({compressed:n.maybe(n.Boolean),network:n.maybe(n.Network)}));class ECPair{constructor(t,e,i){this.__D=t,this.__Q=e,this.lowR=!1,this.compressed=void 0===(i=void 0===i?{}:i).compressed||i.compressed,this.network=i.network||r.bitcoin,void 0!==e&&(this.__Q=s.pointCompress(e,this.compressed))}get privateKey(){return this.__D}get publicKey(){return this.__Q||(this.__Q=s.pointFromScalar(this.__D,this.compressed)),this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return h.encode(this.network.wif,this.__D,this.compressed)}sign(i,t){if(!this.__D)throw new Error("Missing private key");if(!1===(t=void 0===t?this.lowR:t))return s.sign(i,this.__D);{let t=s.sign(i,this.__D);const r=Buffer.alloc(32,0);let e=0;for(;127<t[0];)e++,r.writeUIntLE(e,0,6),t=s.signWithEntropy(i,this.__D,r);return t}}verify(t,e){return s.verify(t,this.publicKey,e)}}function p(t,e){if(u(n.Buffer256bit,t),!s.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return u(a,e),new ECPair(t,void 0,e)}e.fromPrivateKey=p,e.fromPublicKey=function(t,e){return u(s.isPoint,t),u(a,e),new ECPair(void 0,t,e)},e.fromWIF=function(t,e){t=h.decode(t);const i=t.version;if(n.Array(e)){if(!(e=e.filter(t=>i===t.wif).pop()))throw new Error("Unknown network version")}else if(e=e||r.bitcoin,i!==e.wif)throw new Error("Invalid network version");return p(t.privateKey,{compressed:t.compressed,network:e})},e.makeRandom=function(t){u(a,t);const e=(t=void 0===t?{}:t).rng||o;let i;for(;i=e(32),u(n.Buffer256bit,i),!s.isPrivate(i););return p(i,t)}}.call(this,i(23).Buffer)},547:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1320);e.input=r;i=i(1321);e.output=i},548:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1323);e.input=r;i=i(1324);e.output=i},549:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1325);e.input=r;i=i(1326);e.output=i},69:function(t,e,_){!function(S){!function(t){"use strict";function g(t,e){if(!t)throw new Error(e||"Assertion failed")}function e(t,e){function i(){}t.super_=e,i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function I(t,e,i){if(I.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var Buffer;"object"==typeof S?S.exports=I:t.BN=I,(I.BN=I).wordSize=26;try{Buffer=("undefined"!=typeof window&&void 0!==window.Buffer?window:_(1144)).Buffer}catch(t){}function n(t,e){e=t.charCodeAt(e);return 48<=e&&e<=57?e-48:65<=e&&e<=70?e-55:97<=e&&e<=102?e-87:void g(!1,"Invalid character in "+t)}function u(t,e,i){var r=n(t,i);return e<=i-1&&(r|=n(t,i-1)<<4),r}function f(t,e,i,r){for(var n,s=0,o=Math.min(t.length,i),u=e;u<o;u++){var h=t.charCodeAt(u)-48;s*=r,n=49<=h?h-49+10:17<=h?h-17+10:h,g(0<=h&&n<r,"Invalid character"),s+=n}return s}function i(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(I.isBN=function(t){return t instanceof I||null!==t&&"object"==typeof t&&t.constructor.wordSize===I.wordSize&&Array.isArray(t.words)},I.max=function(t,e){return 0<t.cmp(e)?t:e},I.min=function(t,e){return t.cmp(e)<0?t:e},I.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);g((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},I.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(g(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},I.prototype._initArray=function(t,e,i){if(g("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r,n,s=0;s<this.length;s++)this.words[s]=0;var o=0;if("be"===i)for(s=t.length-1,r=0;0<=s;s-=3)n=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[r]|=n<<o&67108863,this.words[r+1]=n>>>26-o&67108863,26<=(o+=24)&&(o-=26,r++);else if("le"===i)for(r=s=0;s<t.length;s+=3)n=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[r]|=n<<o&67108863,this.words[r+1]=n>>>26-o&67108863,26<=(o+=24)&&(o-=26,r++);return this._strip()},I.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,s=0,o=0;if("be"===i)for(r=t.length-1;e<=r;r-=2)n=u(t,e,r)<<s,this.words[o]|=67108863&n,18<=s?(s-=18,this.words[o+=1]|=n>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)n=u(t,e,r)<<s,this.words[o]|=67108863&n,18<=s?(s-=18,this.words[o+=1]|=n>>>26):s+=8;this._strip()},I.prototype._parseBase=function(t,e,i){this.words=[0];for(var r=0,n=this.length=1;n<=67108863;n*=e)r++;for(var n=n/e|0,s=t.length-i,o=s%--r,u=Math.min(s,s-o)+i,h=0,a=i;a<u;a+=r)h=f(t,a,a+r,e),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!=o){for(var p=1,h=f(t,a,t.length,e),a=0;a<o;a++)p*=e;this.imuln(p),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},I.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},I.prototype._move=function(t){i(t,this)},I.prototype.clone=function(){var t=new I(null);return this.copy(t),t},I.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},I.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},I.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{I.prototype[Symbol.for("nodejs.util.inspect.custom")]=r}catch(t){I.prototype.inspect=r}else I.prototype.inspect=r;function r(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function s(t,e,i){i.negative=e.negative^t.negative;var r=t.length+e.length|0,r=(i.length=r)-1|0,n=(o=(0|t.words[0])*(0|e.words[0]))/67108864|0;i.words[0]=67108863&o;for(var s=1;s<r;s++){for(var o,u=n>>>26,h=67108863&n,a=Math.min(s,e.length-1),p=Math.max(0,s-t.length+1);p<=a;p++)u+=(o=(0|t.words[s-p|0])*(0|e.words[p])+h)/67108864|0,h=67108863&o;i.words[s]=0|h,n=0|u}return 0!==n?i.words[s]=0|n:i.length--,i._strip()}I.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){for(var i="",r=0,n=0,s=0;s<this.length;s++){var o=this.words[s],u=(16777215&(o<<r|n)).toString(16),i=0!=(n=o>>>24-r&16777215)||s!==this.length-1?c[6-u.length]+u+i:u+i;26<=(r+=2)&&(r-=26,s--)}for(0!==n&&(i=n.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative?"-"+i:i}if(t===(0|t)&&2<=t&&t<=36){var h=l[t],a=A[t];for(i="",(p=this.clone()).negative=0;!p.isZero();){var p,f=p.modrn(a).toString(t);i=(p=p.idivn(a)).isZero()?f+i:c[h-f.length]+f+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative?"-"+i:i}g(!1,"Base should be between 2 and 36")},I.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},I.prototype.toJSON=function(){return this.toString(16,2)},Buffer&&(I.prototype.toBuffer=function(t,e){return this.toArrayLike(Buffer,t,e)}),I.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},I.prototype.toArrayLike=function(t,e,i){this._strip();var r=this.byteLength(),i=i||Math.max(1,r);g(r<=i,"byte array longer than desired length"),g(0<i,"Requested array length <= 0");i=i,i=(t=t).allocUnsafe?t.allocUnsafe(i):new t(i);return this["_toArrayLike"+("le"===e?"LE":"BE")](i,r),i},I.prototype._toArrayLikeLE=function(t,e){for(var i=0,r=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|r;t[i++]=255&o,i<t.length&&(t[i++]=o>>8&255),i<t.length&&(t[i++]=o>>16&255),6===s?(i<t.length&&(t[i++]=o>>24&255),s=r=0):(r=o>>>24,s+=2)}if(i<t.length)for(t[i++]=r;i<t.length;)t[i++]=0},I.prototype._toArrayLikeBE=function(t,e){for(var i=t.length-1,r=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|r;t[i--]=255&o,0<=i&&(t[i--]=o>>8&255),0<=i&&(t[i--]=o>>16&255),6===s?(0<=i&&(t[i--]=o>>24&255),s=r=0):(r=o>>>24,s+=2)}if(0<=i)for(t[i--]=r;0<=i;)t[i--]=0},Math.clz32?I.prototype._countBits=function(t){return 32-Math.clz32(t)}:I.prototype._countBits=function(t){var e=t,t=0;return 4096<=e&&(t+=13,e>>>=13),64<=e&&(t+=7,e>>>=7),8<=e&&(t+=4,e>>>=4),2<=e&&(t+=2,e>>>=2),t+e},I.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,t=0;return 0==(8191&e)&&(t+=13,e>>>=13),0==(127&e)&&(t+=7,e>>>=7),0==(15&e)&&(t+=4,e>>>=4),0==(3&e)&&(t+=2,e>>>=2),0==(1&e)&&t++,t},I.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},I.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},I.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},I.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},I.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},I.prototype.isNeg=function(){return 0!==this.negative},I.prototype.neg=function(){return this.clone().ineg()},I.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},I.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},I.prototype.ior=function(t){return g(0==(this.negative|t.negative)),this.iuor(t)},I.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},I.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},I.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._strip()},I.prototype.iand=function(t){return g(0==(this.negative|t.negative)),this.iuand(t)},I.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},I.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},I.prototype.iuxor=function(t){for(var e,i=this.length>t.length?(e=this,t):(e=t,this),r=0;r<i.length;r++)this.words[r]=e.words[r]^i.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},I.prototype.ixor=function(t){return g(0==(this.negative|t.negative)),this.iuxor(t)},I.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},I.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},I.prototype.inotn=function(t){g("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return 0<t&&(this.words[i]=~this.words[i]&67108863>>26-t),this._strip()},I.prototype.notn=function(t){return this.clone().inotn(t)},I.prototype.setn=function(t,e){g("number"==typeof t&&0<=t);var i=t/26|0,t=t%26;return this._expand(1+i),this.words[i]=e?this.words[i]|1<<t:this.words[i]&~(1<<t),this._strip()},I.prototype.iadd=function(t){var e,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var r=this.length>t.length?(i=this,t):(i=t,this),n=0,s=0;s<r.length;s++)e=(0|i.words[s])+(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<i.length;s++)e=(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},I.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},I.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;for(var n=0<r?(i=this,t):(i=t,this),s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this._strip()},I.prototype.sub=function(t){return this.clone().isub(t)};var o=function(t,e,i){var r=t.words,n=e.words,s=i.words,o=0|r[0],u=8191&o,h=o>>>13,a=0|r[1],p=8191&a,f=a>>>13,c=0|r[2],l=8191&c,A=c>>>13,g=0|r[3],I=8191&g,d=g>>>13,m=0|r[4],w=8191&m,y=m>>>13,E=0|r[5],C=8191&E,v=E>>>13,S=0|r[6],_=8191&S,b=S>>>13,M=0|r[7],O=8191&M,B=M>>>13,P=0|r[8],Q=8191&P,k=P>>>13,T=0|r[9],H=8191&T,U=T>>>13,D=0|n[0],N=8191&D,K=D>>>13,F=0|n[1],x=8191&F,V=F>>>13,G=0|n[2],L=8191&G,R=G>>>13,Y=0|n[3],W=8191&Y,q=Y>>>13,j=0|n[4],X=8191&j,J=j>>>13,Z=0|n[5],z=8191&Z,$=Z>>>13,tt=0|n[6],o=8191&tt,a=tt>>>13,c=0|n[7],g=8191&c,m=c>>>13,E=0|n[8],S=8191&E,M=E>>>13,P=0|n[9],r=8191&P,T=P>>>13;i.negative=t.negative^e.negative,i.length=19;F=(0+Math.imul(u,N)|0)+((8191&(D=Math.imul(u,K)+Math.imul(h,N)|0))<<13)|0,G=(Math.imul(h,K)+(D>>>13)|0)+(F>>>26)|0;F&=67108863;Y=Math.imul(p,N),D=Math.imul(p,K)+Math.imul(f,N)|0,j=Math.imul(f,K),Z=(G+(Y+Math.imul(u,x)|0)|0)+((8191&(D=(D+Math.imul(u,V)|0)+Math.imul(h,x)|0))<<13)|0,G=((j+Math.imul(h,V)|0)+(D>>>13)|0)+(Z>>>26)|0;Z&=67108863,Y=Math.imul(l,N),D=Math.imul(l,K)+Math.imul(A,N)|0,j=Math.imul(A,K);Y=Y+Math.imul(p,x)|0,D=(D+Math.imul(p,V)|0)+Math.imul(f,x)|0,j=j+Math.imul(f,V)|0,tt=(G+(Y+Math.imul(u,L)|0)|0)+((8191&(D=(D+Math.imul(u,R)|0)+Math.imul(h,L)|0))<<13)|0;G=((j+Math.imul(h,R)|0)+(D>>>13)|0)+(tt>>>26)|0,tt&=67108863,Y=Math.imul(I,N),D=Math.imul(I,K)+Math.imul(d,N)|0,j=Math.imul(d,K),Y=Y+Math.imul(l,x)|0,D=(D+Math.imul(l,V)|0)+Math.imul(A,x)|0,j=j+Math.imul(A,V)|0,Y=Y+Math.imul(p,L)|0,D=(D+Math.imul(p,R)|0)+Math.imul(f,L)|0,j=j+Math.imul(f,R)|0;c=(G+(Y+Math.imul(u,W)|0)|0)+((8191&(D=(D+Math.imul(u,q)|0)+Math.imul(h,W)|0))<<13)|0;G=((j+Math.imul(h,q)|0)+(D>>>13)|0)+(c>>>26)|0,c&=67108863,Y=Math.imul(w,N),D=Math.imul(w,K)+Math.imul(y,N)|0,j=Math.imul(y,K),Y=Y+Math.imul(I,x)|0,D=(D+Math.imul(I,V)|0)+Math.imul(d,x)|0,j=j+Math.imul(d,V)|0,Y=Y+Math.imul(l,L)|0,D=(D+Math.imul(l,R)|0)+Math.imul(A,L)|0,j=j+Math.imul(A,R)|0,Y=Y+Math.imul(p,W)|0,D=(D+Math.imul(p,q)|0)+Math.imul(f,W)|0,j=j+Math.imul(f,q)|0;E=(G+(Y+Math.imul(u,X)|0)|0)+((8191&(D=(D+Math.imul(u,J)|0)+Math.imul(h,X)|0))<<13)|0;G=((j+Math.imul(h,J)|0)+(D>>>13)|0)+(E>>>26)|0,E&=67108863,Y=Math.imul(C,N),D=Math.imul(C,K)+Math.imul(v,N)|0,j=Math.imul(v,K),Y=Y+Math.imul(w,x)|0,D=(D+Math.imul(w,V)|0)+Math.imul(y,x)|0,j=j+Math.imul(y,V)|0,Y=Y+Math.imul(I,L)|0,D=(D+Math.imul(I,R)|0)+Math.imul(d,L)|0,j=j+Math.imul(d,R)|0,Y=Y+Math.imul(l,W)|0,D=(D+Math.imul(l,q)|0)+Math.imul(A,W)|0,j=j+Math.imul(A,q)|0,Y=Y+Math.imul(p,X)|0,D=(D+Math.imul(p,J)|0)+Math.imul(f,X)|0,j=j+Math.imul(f,J)|0;n=(G+(Y+Math.imul(u,z)|0)|0)+((8191&(D=(D+Math.imul(u,$)|0)+Math.imul(h,z)|0))<<13)|0;G=((j+Math.imul(h,$)|0)+(D>>>13)|0)+(n>>>26)|0,n&=67108863,Y=Math.imul(_,N),D=Math.imul(_,K)+Math.imul(b,N)|0,j=Math.imul(b,K),Y=Y+Math.imul(C,x)|0,D=(D+Math.imul(C,V)|0)+Math.imul(v,x)|0,j=j+Math.imul(v,V)|0,Y=Y+Math.imul(w,L)|0,D=(D+Math.imul(w,R)|0)+Math.imul(y,L)|0,j=j+Math.imul(y,R)|0,Y=Y+Math.imul(I,W)|0,D=(D+Math.imul(I,q)|0)+Math.imul(d,W)|0,j=j+Math.imul(d,q)|0,Y=Y+Math.imul(l,X)|0,D=(D+Math.imul(l,J)|0)+Math.imul(A,X)|0,j=j+Math.imul(A,J)|0,Y=Y+Math.imul(p,z)|0,D=(D+Math.imul(p,$)|0)+Math.imul(f,z)|0,j=j+Math.imul(f,$)|0;P=(G+(Y+Math.imul(u,o)|0)|0)+((8191&(D=(D+Math.imul(u,a)|0)+Math.imul(h,o)|0))<<13)|0;G=((j+Math.imul(h,a)|0)+(D>>>13)|0)+(P>>>26)|0,P&=67108863,Y=Math.imul(O,N),D=Math.imul(O,K)+Math.imul(B,N)|0,j=Math.imul(B,K),Y=Y+Math.imul(_,x)|0,D=(D+Math.imul(_,V)|0)+Math.imul(b,x)|0,j=j+Math.imul(b,V)|0,Y=Y+Math.imul(C,L)|0,D=(D+Math.imul(C,R)|0)+Math.imul(v,L)|0,j=j+Math.imul(v,R)|0,Y=Y+Math.imul(w,W)|0,D=(D+Math.imul(w,q)|0)+Math.imul(y,W)|0,j=j+Math.imul(y,q)|0,Y=Y+Math.imul(I,X)|0,D=(D+Math.imul(I,J)|0)+Math.imul(d,X)|0,j=j+Math.imul(d,J)|0,Y=Y+Math.imul(l,z)|0,D=(D+Math.imul(l,$)|0)+Math.imul(A,z)|0,j=j+Math.imul(A,$)|0,Y=Y+Math.imul(p,o)|0,D=(D+Math.imul(p,a)|0)+Math.imul(f,o)|0,j=j+Math.imul(f,a)|0;t=(G+(Y+Math.imul(u,g)|0)|0)+((8191&(D=(D+Math.imul(u,m)|0)+Math.imul(h,g)|0))<<13)|0;G=((j+Math.imul(h,m)|0)+(D>>>13)|0)+(t>>>26)|0,t&=67108863,Y=Math.imul(Q,N),D=Math.imul(Q,K)+Math.imul(k,N)|0,j=Math.imul(k,K),Y=Y+Math.imul(O,x)|0,D=(D+Math.imul(O,V)|0)+Math.imul(B,x)|0,j=j+Math.imul(B,V)|0,Y=Y+Math.imul(_,L)|0,D=(D+Math.imul(_,R)|0)+Math.imul(b,L)|0,j=j+Math.imul(b,R)|0,Y=Y+Math.imul(C,W)|0,D=(D+Math.imul(C,q)|0)+Math.imul(v,W)|0,j=j+Math.imul(v,q)|0,Y=Y+Math.imul(w,X)|0,D=(D+Math.imul(w,J)|0)+Math.imul(y,X)|0,j=j+Math.imul(y,J)|0,Y=Y+Math.imul(I,z)|0,D=(D+Math.imul(I,$)|0)+Math.imul(d,z)|0,j=j+Math.imul(d,$)|0,Y=Y+Math.imul(l,o)|0,D=(D+Math.imul(l,a)|0)+Math.imul(A,o)|0,j=j+Math.imul(A,a)|0,Y=Y+Math.imul(p,g)|0,D=(D+Math.imul(p,m)|0)+Math.imul(f,g)|0,j=j+Math.imul(f,m)|0;e=(G+(Y+Math.imul(u,S)|0)|0)+((8191&(D=(D+Math.imul(u,M)|0)+Math.imul(h,S)|0))<<13)|0;G=((j+Math.imul(h,M)|0)+(D>>>13)|0)+(e>>>26)|0,e&=67108863,Y=Math.imul(H,N),D=Math.imul(H,K)+Math.imul(U,N)|0,j=Math.imul(U,K),Y=Y+Math.imul(Q,x)|0,D=(D+Math.imul(Q,V)|0)+Math.imul(k,x)|0,j=j+Math.imul(k,V)|0,Y=Y+Math.imul(O,L)|0,D=(D+Math.imul(O,R)|0)+Math.imul(B,L)|0,j=j+Math.imul(B,R)|0,Y=Y+Math.imul(_,W)|0,D=(D+Math.imul(_,q)|0)+Math.imul(b,W)|0,j=j+Math.imul(b,q)|0,Y=Y+Math.imul(C,X)|0,D=(D+Math.imul(C,J)|0)+Math.imul(v,X)|0,j=j+Math.imul(v,J)|0,Y=Y+Math.imul(w,z)|0,D=(D+Math.imul(w,$)|0)+Math.imul(y,z)|0,j=j+Math.imul(y,$)|0,Y=Y+Math.imul(I,o)|0,D=(D+Math.imul(I,a)|0)+Math.imul(d,o)|0,j=j+Math.imul(d,a)|0,Y=Y+Math.imul(l,g)|0,D=(D+Math.imul(l,m)|0)+Math.imul(A,g)|0,j=j+Math.imul(A,m)|0,Y=Y+Math.imul(p,S)|0,D=(D+Math.imul(p,M)|0)+Math.imul(f,S)|0,j=j+Math.imul(f,M)|0;u=(G+(Y+Math.imul(u,r)|0)|0)+((8191&(D=(D+Math.imul(u,T)|0)+Math.imul(h,r)|0))<<13)|0;G=((j+Math.imul(h,T)|0)+(D>>>13)|0)+(u>>>26)|0,u&=67108863,Y=Math.imul(H,x),D=Math.imul(H,V)+Math.imul(U,x)|0,j=Math.imul(U,V),Y=Y+Math.imul(Q,L)|0,D=(D+Math.imul(Q,R)|0)+Math.imul(k,L)|0,j=j+Math.imul(k,R)|0,Y=Y+Math.imul(O,W)|0,D=(D+Math.imul(O,q)|0)+Math.imul(B,W)|0,j=j+Math.imul(B,q)|0,Y=Y+Math.imul(_,X)|0,D=(D+Math.imul(_,J)|0)+Math.imul(b,X)|0,j=j+Math.imul(b,J)|0,Y=Y+Math.imul(C,z)|0,D=(D+Math.imul(C,$)|0)+Math.imul(v,z)|0,j=j+Math.imul(v,$)|0,Y=Y+Math.imul(w,o)|0,D=(D+Math.imul(w,a)|0)+Math.imul(y,o)|0,j=j+Math.imul(y,a)|0,Y=Y+Math.imul(I,g)|0,D=(D+Math.imul(I,m)|0)+Math.imul(d,g)|0,j=j+Math.imul(d,m)|0,Y=Y+Math.imul(l,S)|0,D=(D+Math.imul(l,M)|0)+Math.imul(A,S)|0,j=j+Math.imul(A,M)|0;p=(G+(Y+Math.imul(p,r)|0)|0)+((8191&(D=(D+Math.imul(p,T)|0)+Math.imul(f,r)|0))<<13)|0;G=((j+Math.imul(f,T)|0)+(D>>>13)|0)+(p>>>26)|0,p&=67108863,Y=Math.imul(H,L),D=Math.imul(H,R)+Math.imul(U,L)|0,j=Math.imul(U,R),Y=Y+Math.imul(Q,W)|0,D=(D+Math.imul(Q,q)|0)+Math.imul(k,W)|0,j=j+Math.imul(k,q)|0,Y=Y+Math.imul(O,X)|0,D=(D+Math.imul(O,J)|0)+Math.imul(B,X)|0,j=j+Math.imul(B,J)|0,Y=Y+Math.imul(_,z)|0,D=(D+Math.imul(_,$)|0)+Math.imul(b,z)|0,j=j+Math.imul(b,$)|0,Y=Y+Math.imul(C,o)|0,D=(D+Math.imul(C,a)|0)+Math.imul(v,o)|0,j=j+Math.imul(v,a)|0,Y=Y+Math.imul(w,g)|0,D=(D+Math.imul(w,m)|0)+Math.imul(y,g)|0,j=j+Math.imul(y,m)|0,Y=Y+Math.imul(I,S)|0,D=(D+Math.imul(I,M)|0)+Math.imul(d,S)|0,j=j+Math.imul(d,M)|0;l=(G+(Y+Math.imul(l,r)|0)|0)+((8191&(D=(D+Math.imul(l,T)|0)+Math.imul(A,r)|0))<<13)|0;G=((j+Math.imul(A,T)|0)+(D>>>13)|0)+(l>>>26)|0,l&=67108863,Y=Math.imul(H,W),D=Math.imul(H,q)+Math.imul(U,W)|0,j=Math.imul(U,q),Y=Y+Math.imul(Q,X)|0,D=(D+Math.imul(Q,J)|0)+Math.imul(k,X)|0,j=j+Math.imul(k,J)|0,Y=Y+Math.imul(O,z)|0,D=(D+Math.imul(O,$)|0)+Math.imul(B,z)|0,j=j+Math.imul(B,$)|0,Y=Y+Math.imul(_,o)|0,D=(D+Math.imul(_,a)|0)+Math.imul(b,o)|0,j=j+Math.imul(b,a)|0,Y=Y+Math.imul(C,g)|0,D=(D+Math.imul(C,m)|0)+Math.imul(v,g)|0,j=j+Math.imul(v,m)|0,Y=Y+Math.imul(w,S)|0,D=(D+Math.imul(w,M)|0)+Math.imul(y,S)|0,j=j+Math.imul(y,M)|0;I=(G+(Y+Math.imul(I,r)|0)|0)+((8191&(D=(D+Math.imul(I,T)|0)+Math.imul(d,r)|0))<<13)|0;G=((j+Math.imul(d,T)|0)+(D>>>13)|0)+(I>>>26)|0,I&=67108863,Y=Math.imul(H,X),D=Math.imul(H,J)+Math.imul(U,X)|0,j=Math.imul(U,J),Y=Y+Math.imul(Q,z)|0,D=(D+Math.imul(Q,$)|0)+Math.imul(k,z)|0,j=j+Math.imul(k,$)|0,Y=Y+Math.imul(O,o)|0,D=(D+Math.imul(O,a)|0)+Math.imul(B,o)|0,j=j+Math.imul(B,a)|0,Y=Y+Math.imul(_,g)|0,D=(D+Math.imul(_,m)|0)+Math.imul(b,g)|0,j=j+Math.imul(b,m)|0,Y=Y+Math.imul(C,S)|0,D=(D+Math.imul(C,M)|0)+Math.imul(v,S)|0,j=j+Math.imul(v,M)|0;w=(G+(Y+Math.imul(w,r)|0)|0)+((8191&(D=(D+Math.imul(w,T)|0)+Math.imul(y,r)|0))<<13)|0;G=((j+Math.imul(y,T)|0)+(D>>>13)|0)+(w>>>26)|0,w&=67108863,Y=Math.imul(H,z),D=Math.imul(H,$)+Math.imul(U,z)|0,j=Math.imul(U,$),Y=Y+Math.imul(Q,o)|0,D=(D+Math.imul(Q,a)|0)+Math.imul(k,o)|0,j=j+Math.imul(k,a)|0,Y=Y+Math.imul(O,g)|0,D=(D+Math.imul(O,m)|0)+Math.imul(B,g)|0,j=j+Math.imul(B,m)|0,Y=Y+Math.imul(_,S)|0,D=(D+Math.imul(_,M)|0)+Math.imul(b,S)|0,j=j+Math.imul(b,M)|0;C=(G+(Y+Math.imul(C,r)|0)|0)+((8191&(D=(D+Math.imul(C,T)|0)+Math.imul(v,r)|0))<<13)|0;G=((j+Math.imul(v,T)|0)+(D>>>13)|0)+(C>>>26)|0,C&=67108863,Y=Math.imul(H,o),D=Math.imul(H,a)+Math.imul(U,o)|0,j=Math.imul(U,a),Y=Y+Math.imul(Q,g)|0,D=(D+Math.imul(Q,m)|0)+Math.imul(k,g)|0,j=j+Math.imul(k,m)|0,Y=Y+Math.imul(O,S)|0,D=(D+Math.imul(O,M)|0)+Math.imul(B,S)|0,j=j+Math.imul(B,M)|0;_=(G+(Y+Math.imul(_,r)|0)|0)+((8191&(D=(D+Math.imul(_,T)|0)+Math.imul(b,r)|0))<<13)|0;G=((j+Math.imul(b,T)|0)+(D>>>13)|0)+(_>>>26)|0,_&=67108863,Y=Math.imul(H,g),D=Math.imul(H,m)+Math.imul(U,g)|0,j=Math.imul(U,m),Y=Y+Math.imul(Q,S)|0,D=(D+Math.imul(Q,M)|0)+Math.imul(k,S)|0,j=j+Math.imul(k,M)|0;O=(G+(Y+Math.imul(O,r)|0)|0)+((8191&(D=(D+Math.imul(O,T)|0)+Math.imul(B,r)|0))<<13)|0;G=((j+Math.imul(B,T)|0)+(D>>>13)|0)+(O>>>26)|0,O&=67108863,Y=Math.imul(H,S),D=Math.imul(H,M)+Math.imul(U,S)|0,j=Math.imul(U,M);Q=(G+(Y+Math.imul(Q,r)|0)|0)+((8191&(D=(D+Math.imul(Q,T)|0)+Math.imul(k,r)|0))<<13)|0;G=((j+Math.imul(k,T)|0)+(D>>>13)|0)+(Q>>>26)|0,Q&=67108863;r=(G+Math.imul(H,r)|0)+((8191&(D=Math.imul(H,T)+Math.imul(U,r)|0))<<13)|0;return G=(Math.imul(U,T)+(D>>>13)|0)+(r>>>26)|0,r&=67108863,s[0]=F,s[1]=Z,s[2]=tt,s[3]=c,s[4]=E,s[5]=n,s[6]=P,s[7]=t,s[8]=e,s[9]=u,s[10]=p,s[11]=l,s[12]=I,s[13]=w,s[14]=C,s[15]=_,s[16]=O,s[17]=Q,s[18]=r,0!=G&&(s[19]=G,i.length++),i};function h(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var r=0,n=0,s=0;s<i.length-1;s++){for(var o=n,n=0,u=67108863&r,h=Math.min(s,e.length-1),a=Math.max(0,s-t.length+1);a<=h;a++){var p,f=(0|t.words[s-a])*(0|e.words[a]),u=67108863&(p=(67108863&f)+u|0);n+=(o=(o=o+(f/67108864|0)|0)+(p>>>26)|0)>>>26,o&=67108863}i.words[s]=u,r=o,o=n}return 0!==r?i.words[s]=r:i.length--,i._strip()}function a(t,e,i){return h(t,e,i)}Math.imul||(o=s),I.prototype.mulTo=function(t,e){var i=this.length+t.length;return(10===this.length&&10===t.length?o:i<63?s:i<1024?h:a)(this,t,e)},I.prototype.mul=function(t){var e=new I(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},I.prototype.mulf=function(t){var e=new I(null);return e.words=new Array(this.length+t.length),a(this,t,e)},I.prototype.imul=function(t){return this.clone().mulTo(t,this)},I.prototype.imuln=function(t){var e=t<0;g("number"==typeof(t=e?-t:t)),g(t<67108864);for(var i=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=s>>>26,this.words[r]=67108863&s}return 0!==i&&(this.words[r]=i,this.length++),e?this.ineg():this},I.prototype.muln=function(t){return this.clone().imuln(t)},I.prototype.sqr=function(){return this.mul(this)},I.prototype.isqr=function(){return this.imul(this.clone())},I.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++)e[i]=t.words[i/26|0]>>>i%26&1;return e}(t);if(0===e.length)return new I(1);for(var i=this,r=0;r<e.length&&0===e[r];r++,i=i.sqr());if(++r<e.length)for(var n=i.sqr();r<e.length;r++,n=n.sqr())0!==e[r]&&(i=i.mul(n));return i},I.prototype.iushln=function(t){g("number"==typeof t&&0<=t);var e=t%26,i=(t-e)/26,r=67108863>>>26-e<<26-e;if(0!=e){for(var n=0,s=0;s<this.length;s++){var o=this.words[s]&r,u=(0|this.words[s])-o<<e;this.words[s]=u|n,n=o>>>26-e}n&&(this.words[s]=n,this.length++)}if(0!=i){for(s=this.length-1;0<=s;s--)this.words[s+i]=this.words[s];for(s=0;s<i;s++)this.words[s]=0;this.length+=i}return this._strip()},I.prototype.ishln=function(t){return g(0===this.negative),this.iushln(t)},I.prototype.iushrn=function(t,e,i){g("number"==typeof t&&0<=t);var r=e?(e-e%26)/26:0,n=t%26,s=Math.min((t-n)/26,this.length),o=67108863^67108863>>>n<<n,u=i;if(r-=s,r=Math.max(0,r),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;for(var a=0,h=this.length-1;0<=h&&(0!==a||r<=h);h--){var p=0|this.words[h];this.words[h]=a<<26-n|p>>>n,a=p&o}return u&&0!==a&&(u.words[u.length++]=a),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},I.prototype.ishrn=function(t,e,i){return g(0===this.negative),this.iushrn(t,e,i)},I.prototype.shln=function(t){return this.clone().ishln(t)},I.prototype.ushln=function(t){return this.clone().iushln(t)},I.prototype.shrn=function(t){return this.clone().ishrn(t)},I.prototype.ushrn=function(t){return this.clone().iushrn(t)},I.prototype.testn=function(t){g("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},I.prototype.imaskn=function(t){g("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return g(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},I.prototype.maskn=function(t){return this.clone().imaskn(t)},I.prototype.iaddn=function(t){return g("number"==typeof t),g(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},I.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},I.prototype.isubn=function(t){if(g("number"==typeof t),g(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this._strip()},I.prototype.addn=function(t){return this.clone().iaddn(t)},I.prototype.subn=function(t){return this.clone().isubn(t)},I.prototype.iabs=function(){return this.negative=0,this},I.prototype.abs=function(){return this.clone().iabs()},I.prototype._ishlnsubmul=function(t,e,i){var r=t.length+i;this._expand(r);for(var n=0,s=0;s<t.length;s++){var o=(0|this.words[s+i])+n,u=(0|t.words[s])*e,n=((o-=67108863&u)>>26)-(u/67108864|0);this.words[s+i]=67108863&o}for(;s<this.length-i;s++)n=(o=(0|this.words[s+i])+n)>>26,this.words[s+i]=67108863&o;if(0===n)return this._strip();for(g(-1===n),s=n=0;s<this.length;s++)n=(o=-(0|this.words[s])+n)>>26,this.words[s]=67108863&o;return this.negative=1,this._strip()},I.prototype._wordDiv=function(t,e){this.length,t.length;var i,r=this.clone(),n=t,s=0|n.words[n.length-1];0!=(i=26-this._countBits(s))&&(n=n.ushln(i),r.iushln(i),s=0|n.words[n.length-1]);var o,u=r.length-n.length;if("mod"!==e){(o=new I(null)).length=1+u,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}t=r.clone()._ishlnsubmul(n,1,u);0===t.negative&&(r=t,o&&(o.words[u]=1));for(var a=u-1;0<=a;a--){var p=67108864*(0|r.words[n.length+a])+(0|r.words[n.length+a-1]),p=Math.min(p/s|0,67108863);for(r._ishlnsubmul(n,p,a);0!==r.negative;)p--,r.negative=0,r._ishlnsubmul(n,1,a),r.isZero()||(r.negative^=1);o&&(o.words[a]=p)}return o&&o._strip(),r._strip(),"div"!==e&&0!=i&&r.iushrn(i),{div:o||null,mod:r}},I.prototype.divmod=function(t,e,i){return g(!t.isZero()),this.isZero()?{div:new I(0),mod:new I(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(r=s.div.neg()),"div"!==e&&(n=s.mod.neg(),i&&0!==n.negative&&n.iadd(t)),{div:r,mod:n}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),{div:r="mod"!==e?s.div.neg():r,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(n=s.mod.neg(),i&&0!==n.negative&&n.isub(t)),{div:s.div,mod:n}):t.length>this.length||this.cmp(t)<0?{div:new I(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new I(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new I(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,n,s},I.prototype.div=function(t){return this.divmod(t,"div",!1).div},I.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},I.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},I.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),t=t.andln(1),r=i.cmp(r);return r<0||1===t&&0===r?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},I.prototype.modrn=function(t){var e=t<0;g((t=e?-t:t)<=67108863);for(var i=(1<<26)%t,r=0,n=this.length-1;0<=n;n--)r=(i*r+(0|this.words[n]))%t;return e?-r:r},I.prototype.modn=function(t){return this.modrn(t)},I.prototype.idivn=function(t){var e=t<0;g((t=e?-t:t)<=67108863);for(var i=0,r=this.length-1;0<=r;r--){var n=(0|this.words[r])+67108864*i;this.words[r]=n/t|0,i=n%t}return this._strip(),e?this.ineg():this},I.prototype.divn=function(t){return this.clone().idivn(t)},I.prototype.egcd=function(t){g(0===t.negative),g(!t.isZero());for(var e=this,i=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),r=new I(1),n=new I(0),s=new I(0),o=new I(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var h=i.clone(),a=e.clone();!e.isZero();){for(var p=0,f=1;0==(e.words[0]&f)&&p<26;++p,f<<=1);if(0<p)for(e.iushrn(p);0<p--;)(r.isOdd()||n.isOdd())&&(r.iadd(h),n.isub(a)),r.iushrn(1),n.iushrn(1);for(var c=0,l=1;0==(i.words[0]&l)&&c<26;++c,l<<=1);if(0<c)for(i.iushrn(c);0<c--;)(s.isOdd()||o.isOdd())&&(s.iadd(h),o.isub(a)),s.iushrn(1),o.iushrn(1);0<=e.cmp(i)?(e.isub(i),r.isub(s),n.isub(o)):(i.isub(e),s.isub(r),o.isub(n))}return{a:s,b:o,gcd:i.iushln(u)}},I.prototype._invmp=function(t){g(0===t.negative),g(!t.isZero());for(var e,i=this,r=t.clone(),i=0!==i.negative?i.umod(t):i.clone(),n=new I(1),s=new I(0),o=r.clone();0<i.cmpn(1)&&0<r.cmpn(1);){for(var u=0,h=1;0==(i.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(i.iushrn(u);0<u--;)n.isOdd()&&n.iadd(o),n.iushrn(1);for(var a=0,p=1;0==(r.words[0]&p)&&a<26;++a,p<<=1);if(0<a)for(r.iushrn(a);0<a--;)s.isOdd()&&s.iadd(o),s.iushrn(1);0<=i.cmp(r)?(i.isub(r),n.isub(s)):(r.isub(i),s.isub(n))}return(e=0===i.cmpn(1)?n:s).cmpn(0)<0&&e.iadd(t),e},I.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0;for(var r=i.negative=0;e.isEven()&&i.isEven();r++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0)var s=e,e=i,i=s;else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(r)},I.prototype.invm=function(t){return this.egcd(t).a.umod(t)},I.prototype.isEven=function(){return 0==(1&this.words[0])},I.prototype.isOdd=function(){return 1==(1&this.words[0])},I.prototype.andln=function(t){return this.words[0]&t},I.prototype.bincn=function(t){g("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)return this._expand(1+t),this.words[t]|=e,this;for(var i=e,r=t;0!==i&&r<this.length;r++){var n=0|this.words[r],i=(n+=i)>>>26;n&=67108863,this.words[r]=n}return 0!==i&&(this.words[r]=i,this.length++),this},I.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},I.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this._strip(),t=1<this.length?1:(g((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-t:t):-1},I.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;t=this.ucmp(t);return 0!==this.negative?0|-t:t},I.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;0<=i;i--){var r=0|this.words[i],n=0|t.words[i];if(r!=n){r<n?e=-1:n<r&&(e=1);break}}return e},I.prototype.gtn=function(t){return 1===this.cmpn(t)},I.prototype.gt=function(t){return 1===this.cmp(t)},I.prototype.gten=function(t){return 0<=this.cmpn(t)},I.prototype.gte=function(t){return 0<=this.cmp(t)},I.prototype.ltn=function(t){return-1===this.cmpn(t)},I.prototype.lt=function(t){return-1===this.cmp(t)},I.prototype.lten=function(t){return this.cmpn(t)<=0},I.prototype.lte=function(t){return this.cmp(t)<=0},I.prototype.eqn=function(t){return 0===this.cmpn(t)},I.prototype.eq=function(t){return 0===this.cmp(t)},I.red=function(t){return new C(t)},I.prototype.toRed=function(t){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},I.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},I.prototype._forceRed=function(t){return this.red=t,this},I.prototype.forceRed=function(t){return g(!this.red,"Already a number in reduction context"),this._forceRed(t)},I.prototype.redAdd=function(t){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},I.prototype.redIAdd=function(t){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},I.prototype.redSub=function(t){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},I.prototype.redISub=function(t){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},I.prototype.redShl=function(t){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},I.prototype.redMul=function(t){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},I.prototype.redIMul=function(t){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},I.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},I.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},I.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},I.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},I.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},I.prototype.redPow=function(t){return g(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var p={k256:null,p224:null,p192:null,p25519:null};function d(t,e){this.name=t,this.p=new I(e,16),this.n=this.p.bitLength(),this.k=new I(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(t){var e;"string"==typeof t?(e=I._prime(t),this.m=e.p,this.prime=e):(g(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function v(t){C.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new I(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d.prototype._tmp=function(){var t=new I(null);return t.words=new Array(Math.ceil(this.n/13)),t},d.prototype.ireduce=function(t){for(var e,i=t;this.split(i,this.tmp),(e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:i.ucmp(this.p);return 0===t?(i.words[0]=0,i.length=1):0<t?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},d.prototype.split=function(t,e){t.iushrn(this.n,0,e)},d.prototype.imulK=function(t){return t.imul(this.k)},e(m,d),m.prototype.split=function(t,e){for(var i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,r=10;r<t.length;r++){var s=0|t.words[r];t.words[r-10]=(4194303&s)<<4|n>>>22,n=s}0==(t.words[r-10]=n>>>=22)&&10<t.length?t.length-=10:t.length-=9},m.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},e(w,d),e(y,d),e(E,d),E.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},I._prime=function(t){if(p[t])return p[t];var e;if("k256"===t)e=new m;else if("p224"===t)e=new w;else if("p192"===t)e=new y;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return p[t]=e},C.prototype._verify1=function(t){g(0===t.negative,"red works only with positives"),g(t.red,"red works only with red numbers")},C.prototype._verify2=function(t,e){g(0==(t.negative|e.negative),"red works only with positives"),g(t.red&&t.red===e.red,"red works only with red numbers")},C.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(i(t,t.umod(this.m)._forceRed(this)),t)},C.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},C.prototype.add=function(t,e){this._verify2(t,e);e=t.add(e);return 0<=e.cmp(this.m)&&e.isub(this.m),e._forceRed(this)},C.prototype.iadd=function(t,e){this._verify2(t,e);e=t.iadd(e);return 0<=e.cmp(this.m)&&e.isub(this.m),e},C.prototype.sub=function(t,e){this._verify2(t,e);e=t.sub(e);return e.cmpn(0)<0&&e.iadd(this.m),e._forceRed(this)},C.prototype.isub=function(t,e){this._verify2(t,e);e=t.isub(e);return e.cmpn(0)<0&&e.iadd(this.m),e},C.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},C.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},C.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},C.prototype.isqr=function(t){return this.imul(t,t.clone())},C.prototype.sqr=function(t){return this.mul(t,t)},C.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(g(e%2==1),3===e){e=this.m.add(new I(1)).iushrn(2);return this.pow(t,e)}for(var i=this.m.subn(1),r=0;!i.isZero()&&0===i.andln(1);)r++,i.iushrn(1);g(!i.isZero());for(var n=new I(1).toRed(this),s=n.redNeg(),o=this.m.subn(1).iushrn(1),u=new I(2*(u=this.m.bitLength())*u).toRed(this);0!==this.pow(u,o).cmp(s);)u.redIAdd(s);for(var h=this.pow(u,i),a=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),f=r;0!==p.cmp(n);){for(var c=p,l=0;0!==c.cmp(n);l++)c=c.redSqr();g(l<f);var A=this.pow(h,new I(1).iushln(f-l-1)),a=a.redMul(A),h=A.redSqr(),p=p.redMul(h),f=l}return a},C.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(t,e){if(e.isZero())return new I(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new I(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var n=i[0],s=0,o=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;0<=r;r--){for(var h=e.words[r],a=u-1;0<=a;a--){var p=h>>a&1;n!==i[0]&&(n=this.sqr(n)),0!=p||0!==s?(s<<=1,s|=p,(4==++o||0===r&&0===a)&&(n=this.mul(n,i[s]),s=o=0)):o=0}u=26}return n},C.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},C.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},I.mont=function(t){return new v(t)},e(v,C),v.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},v.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},v.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;t=t.imul(e),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=t.isub(e).iushrn(this.shift),e=t;return 0<=t.cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this)},v.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new I(0)._forceRed(this);t=t.mul(e),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=t.isub(e).iushrn(this.shift),e=t;return 0<=t.cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this)},v.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(this)}.call(this,_(235)(t))},752:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(39);(e.check=function(t){t=r.compile(t);return 22===t.length&&t[0]===n.OPS.OP_0&&20===t[1]}).toJSON=()=>"Witness pubKeyHash output"},753:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(39),n=i(39);(e.check=function(t){t=r.compile(t);return 34===t.length&&t[0]===n.OPS.OP_0&&32===t[1]}).toJSON=()=>"Witness scriptHash output"}}]);